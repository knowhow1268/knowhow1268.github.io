<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Wenhua">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Wenhua">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Wenhua">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Wenhua</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Wenhua</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/求解二元函数最小值/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Wenhua">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/求解二元函数最小值/" itemprop="url">求解二元函数最小值</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-16T15:46:21+08:00">
                2019-10-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ai/" itemprop="url" rel="index">
                    <span itemprop="name">ai</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from mpl_toolkits.mplot3d import Axes3D</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def f_2d(x, y):</span><br><span class="line">    return x ** 2 + 3 * x + y ** 2 + 8 * y + 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def df_2d(x, y):</span><br><span class="line">    return 2 * x + 3, 2 * y + 8</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">x, y = 4, 4</span><br><span class="line">learning_rate = 0.01</span><br><span class="line"></span><br><span class="line">for itr in range(200):</span><br><span class="line">    v_x, v_y = df_2d(x, y)</span><br><span class="line">    x, y = x - learning_rate * v_x, y - learning_rate * v_y</span><br><span class="line">    print(x, y, f_2d(x, y))</span><br><span class="line"></span><br><span class="line">x = np.linspace(-10, 10)</span><br><span class="line">y = np.linspace(-10, 10)</span><br><span class="line">X, Y = np.meshgrid(x, y)</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.gca(projection=&apos;3d&apos;)</span><br><span class="line">surf = ax.plot_surface(X, Y, f_2d(X, Y))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="/求解二元函数最小值/微信图片_20191016154735.png" width="500px"><br><img src="/求解二元函数最小值/微信图片_20191016154739.png" width="500px"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/数学概念/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Wenhua">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/数学概念/" itemprop="url">数学概念</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-16T11:22:13+08:00">
                2019-10-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ai/" itemprop="url" rel="index">
                    <span itemprop="name">ai</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="数学基础"><a href="#数学基础" class="headerlink" title="数学基础"></a>数学基础</h2><p>常见函数</p>
<ul>
<li>导数, <font color="red"><strong>梯度</strong></font></li>
<li>Taylor展开, <font color="red"><strong>Taylor公式</strong></font></li>
<li>概率论, <font color="red"><strong>联合概率</strong></font>, <font color="red"><strong>条件概率</strong></font>, <font color="red"><strong>全概率公式</strong></font>, <font color="red"><strong>贝叶斯公式</strong></font></li>
<li>期望, <font color="red"><strong>方差</strong></font>, <font color="red"><strong>协方差</strong></font></li>
<li>大数定理, <font color="red"><strong>中心极限定理</strong></font></li>
<li>估计法, <font color="red"><strong>最大似然估计(MLE)</strong></font></li>
<li><font color="red"><strong>向量</strong></font>, <font color="red"><strong>矩阵运算</strong></font>, 矩阵求导</li>
<li><font color="red"><strong>SVD</strong></font>, QR分解</li>
</ul>
<h3 id="梯度"><a href="#梯度" class="headerlink" title="梯度"></a>梯度</h3><p>梯度是一个向量, 表示某一个函数在该点处的<strong>方向导数</strong>沿着该方向取的最大值, 即函数在该点处沿着该方向变化最快, 变化率最大(即该梯度向量的模); 当函数为一维函数时, 梯度其实就是导数</p>
<script type="math/tex; mode=display">\nabla{f(x_1, x_2)} = (\frac{\partial{f(x_1, x_2)}}{x_1}, \frac{\partial{f(x_1, x_2)}}{x_2})</script><h3 id="Taylor公式"><a href="#Taylor公式" class="headerlink" title="Taylor公式"></a>Taylor公式</h3><ul>
<li>Taylor公式是用一个函数在某点的信息描述其附近取值的公式. 如果函数足够平滑, 在已知函数在某一点的各阶导数值的情况下, Taylor公式可以利用这些导数值来做系数构建一个多项式近似函数在这一点的领域中的值.</li>
<li>若函数$f(x)$在包含$x_0$的某个闭区间$[a, b]$上具有$n$阶函数, 且在开区间$(a, b)$上具有$n+1$阶函数, 则对闭区间$[a, b]$上任意一点$x$, 有Taylor公式如下:<script type="math/tex; mode=display">f(x) = \frac{f(x_0)}{0!} + \frac{f^{'}(x_0)}{1!}(x-x_0) + \frac{f^{''}(x_0)}{2!}(x-x_0)^2 + ... + \frac{f^{(n)}(x_0)}{n!}(x-x_0)^n + R_n(x)</script></li>
</ul>
<p>$f^{(n)}(x)$表示$f(x)$的$n$阶导数, $R_n(x)$是Taylor公式的余项, 是$(x-x_0)^n$的高阶无穷小</p>
<script type="math/tex; mode=display">sin(x) = x - \frac{x^3}{3!} + \frac{x^5}{5!} + ... + (-1)^{m-1}\frac{x^{2m-1}}{(2m-1)!} + R_{2m-1}(x)</script><p>计算近似值, 并估计误差值</p>
<script type="math/tex; mode=display">e = \lim_{x \rightarrow \infty}(1 + {\frac{1}{n})}^n</script><script type="math/tex; mode=display">y = e^x \Rightarrow y^{'} = y = e^x</script><script type="math/tex; mode=display">\begin{align}
e^x &\approx \sum_{k=0}^{n}{\frac{e^x_0}{k!}}(x-x_0)^k\\
&\stackrel{令x_0=0}{\Rightarrow} e^x \approx 1 + x + \frac{x^2}{2!} + ... + \frac{x_n}{n!}\\
&\stackrel{令x=1}{\Rightarrow} e \approx 1 + 1 + \frac{1}{2!} + \frac{1}{3!} + ... + \frac{1}{n!}\\
&\stackrel{令x=10}{\Rightarrow} e \approx 2.7182815\\
\end{align}</script><script type="math/tex; mode=display">\delta = \vert R_{10}\vert = \frac{1}{11!} + \frac{1}{12!} + ... = \frac{1}{11!}(1+\frac{1}{12}+\frac{1}{12*13}+...) \lt \frac{1}{11!}(1+\frac{1}{12}+\frac{1}{12^2}+...) = \frac{12}{11*11!} = 2.73 * 10^{-8}</script><h3 id="联合概率"><a href="#联合概率" class="headerlink" title="联合概率"></a>联合概率</h3><p>两个事件同时发生的概率, 计作: $P(AB)$, $P(A, B)$, 或者$P(A \cap B)$, 即为”事件A和事件B同时发生的概率”<br><img src="/数学概念/WechatIMG8.png" width="400px"></p>
<h3 id="条件概率"><a href="#条件概率" class="headerlink" title="条件概率"></a>条件概率</h3><p>事件A在另外一件事情B已经发生的条件下发生的概率叫做条件概率, 表示为P(A|B), 即为”在B条件下A发生的概率”<br>一般情况下, P(A|B) &ne; P(A)<br>条件概率有如下三个特性</p>
<ul>
<li>非负性</li>
<li>可列性</li>
<li>可加性</li>
</ul>
<p><img src="/数学概念/WechatIMG7.png" width="400px"></p>
<script type="math/tex; mode=display">P(A_1|B) = \frac{P(A_1, B)}{P(B)}</script><p>如果将条件概率由两个事件推广到任意有穷多个事件时, 可以得到如下公式, 假设$A_1, A_2, …, A_n$为任意n个任意事件(n &ge; 2)), 而且$P(A_1A_2…A_n) &gt; 0$, 则</p>
<script type="math/tex; mode=display">P(A_1B) = P(A_1|B)P(B)</script><script type="math/tex; mode=display">P(A_1A_2) = P(A_1|A_2)P(A_2) = P(A_2)P(A_1|A_2)</script><p>即为, 事件$A_1$和事件$A_2$同时发生的概率等于事件$A_2$已经发生的条件下$A_1$发生的概率与事件$A_2$发生的概率的乘积</p>
<script type="math/tex; mode=display">P(A_2A_1) = P(A_2|A_1)P(A_1) = P(A_1)P(A_2|A_1)</script><p>即为, 事件$A_2$和事件$A_1$同时发生的概率等于事件$A_1$已经发生的条件下$A_2$发生的概率与事件$A_1$发生的概率的乘积</p>
<script type="math/tex; mode=display">P(A_1A_2) = P(A_2, A_1)</script><p>即为, 事件$A_1$和事件$A_2$同时发生的概率</p>
<script type="math/tex; mode=display">P(A_1|A_2)P(A_2) =  P(A_2|A_1)P(A_1)</script><p>即为, 事件$A_2$已经发生的条件下$A_1$发生的概率与事件$A_2$发生的概率的乘积 <strong>等于</strong> 事件$A_1$已经发生的条件下$A_2$发生的概率与事件$A_1$发生的概率的乘积</p>
<script type="math/tex; mode=display">P(A_1A_2A_3) = P(A_1A_2)P(A_3|(A_1A_2)) = P(A_1)P(A_2|A_1)P(A_3|(A_1A_2))</script><script type="math/tex; mode=display">P(A_1A_2...A_n) = P(A_1)P(A_2|A_1)...P(A_n|(A_1A_2...A_n))</script><h3 id="全概率"><a href="#全概率" class="headerlink" title="全概率"></a>全概率</h3><p>样本空间$\Omega$有一组事件$A_1, A_2, …, A_n$, 如果事件组满足以下两个条件, 那么事件组称为样本空间的一个划分:</p>
<ul>
<li>$\forall i &ne; j \in \{1, 2, …, n\}, A_iA_j = \phi$</li>
<li>$A_1 \cup A_2… \cup A_n = \Omega$ </li>
</ul>
<p>如果事件$\{A_j\}$是样本空间$\Omega$的一个划分, 且$P(A_j) &gt; 0$, 那么对于任意事件B, 全概率公式为:</p>
<script type="math/tex; mode=display">P(B) = \sum_{i=1}^{n}{P(A_i)P(B|A_i)}</script><h3 id="贝叶斯公式"><a href="#贝叶斯公式" class="headerlink" title="贝叶斯公式"></a>贝叶斯公式</h3><script type="math/tex; mode=display">P(A|B) = \frac{P(B|A)P(A)}{P(B)}</script><p>设$A_1, A_2, …, A_n$是样本空间$\Omega$的一个划分, 如果对于任意事件B, 有$P(B) &gt; 0$, 那么</p>
<script type="math/tex; mode=display">P(A_i|B) = \frac{P(B|A_i)P(A_i)}{P(B)} = \frac{P(A_i)P(B|A_i)}{\displaystyle \sum_{i=1}^{n}{P(A_i)P(B|A_i)}}</script><h3 id="概率公式总结"><a href="#概率公式总结" class="headerlink" title="概率公式总结"></a>概率公式总结</h3><script type="math/tex; mode=display">P(A|B) = \frac{P(A, B)}{P(B)}</script><script type="math/tex; mode=display">P(B) = \sum_{i=1}^{n}{P(A_i)P(B|A_i)}</script><script type="math/tex; mode=display">P(A_i|B) = \frac{P(A_i, B)}{P(B)}</script><script type="math/tex; mode=display">P(A_i|B) = \frac {P(A_i)P(B|A_i)} {\displaystyle \sum_{i=1}^{n}{P(A_i)P(B|A_i)} }</script><h3 id="期望"><a href="#期望" class="headerlink" title="期望"></a>期望</h3><p>期望即均值, 是概率加权下的”平均值”, 是每次可能结果的概率乘以其结果的总和, 反映的是随机变量平均取值大小, 常用符号$\mu$表示:</p>
<ul>
<li>连续性数据, $E(X) = \int_{-\infty}^{+\infty}xf(x)dx$</li>
<li>离散性数据, $E(X) = \sum_{i}{x_ip_i}$</li>
</ul>
<p>假设C为一个常数, X和Y是两个随机变量, 期望的性质如下:</p>
<ul>
<li>E(C) = C</li>
<li>E(CX) = CE(X)</li>
<li>E(X + Y) = E(X) + E(Y)</li>
<li>如果X和Y相互独立, 那么E(XY) = E(X)E(Y)</li>
<li>如果E(XY) = E(X)E(Y), 那么X和Y不相关</li>
</ul>
<h3 id="方差"><a href="#方差" class="headerlink" title="方差"></a>方差</h3><p>衡量随机变量或一组数据离散程度的度量, 是用来度量随机变量和其数学期望之间的偏离程度. 即方差是衡量原数据和期望/均值相差的度量值.</p>
<script type="math/tex; mode=display">Var(X) = D(X) = \sigma^2 = \frac{\sum{(X-\mu)^2}}{N}</script><script type="math/tex; mode=display">D(X) = \sum_{n=1}^{n}{P_i}{(X_i-\mu)^2}</script><script type="math/tex; mode=display">D(X) = \int_a^b(x-u)^2f(x)dx</script><script type="math/tex; mode=display">D(X) = E((X-E(X))^2) = E(X^2) - (E(x))^2</script><div class="table-container">
<table>
<thead>
<tr>
<th>X</th>
<th>2</th>
<th>4</th>
<th>6</th>
<th>8</th>
<th>10</th>
</tr>
</thead>
<tbody>
<tr>
<td>$P(x)$</td>
<td>0.2</td>
<td>0.2</td>
<td>0.2</td>
<td>0.2</td>
<td>0.2</td>
</tr>
</tbody>
</table>
</div>
<script type="math/tex; mode=display">E(X) = 2*0.2 + 4*0.2 + 6*0.2 + 8*0.2 + 10*0.2 = 6</script><script type="math/tex; mode=display">\begin{align}
E(X^2) &= 2^2*0.2 + 4^2*0.2 + 6^2*0.2 + 8^2*0.2 + 10^2*0.2\\
&= 4*0.2 + 16*0.2 + 36*0.2 + 64*0.2 + 100*0.2\\
&= 220*0.2\\
&= 44
\end{align}</script><script type="math/tex; mode=display">D(X) = E(X^2) - (E(X))^2 = 44 - 6^2 = 8</script><p>假设C是一个常数, X和Y是两个随机变量, 那么方差的性质如下:</p>
<p>$D(C) = 0$<br>$D(CX) = C^2D(X)$<br>$D(C + X) = D(X)$<br>$D(X \pm Y) = D(X) + D(Y) \pm 2 Cov(X,Y)$</p>
<h3 id="标准差"><a href="#标准差" class="headerlink" title="标准差"></a>标准差</h3><p>标准差(Standard Deviation)是方差的算术平方根, 用符号$\sigma$表示.<br>标准差和方差都是测量离散程度最重要最常见的指标. 不同之处在于标准差和变量的计算单位是相同的, 比方差清楚, 因此在很多分析的时候用标准差. </p>
<script type="math/tex; mode=display">\sigma = \sqrt{D(X)} = \sqrt{\frac{\sum(X-\mu)^2}{N}}</script><h3 id="协方差"><a href="#协方差" class="headerlink" title="协方差"></a>协方差</h3><p>协方差常用于衡量两个变量的总体误差, 当两个变量相同的情况下, 协方差其实就是方差<br>如果X和Y是统计独立的, 那么二者之间的协方差为零; 如果协方差为零, 那么X和Y是不相关的.</p>
<script type="math/tex; mode=display">\begin{align}
Cov(X,Y) &= E[(X-E(X))(Y-E(Y))]\\
&= E[XY - XE(Y) - YE(X) + E(X)E(Y)]\\
&= E(XY) - E(X)E(Y) - E(Y)E(X) + E(X)E(Y)\\
&= E(XY) - E(X)E(Y)\\
\end{align}</script><p>假设C为一个常数, X和Y是两个随机变量, 那么协方差性质如下:</p>
<script type="math/tex; mode=display">Cov(X, Y) = Cov(Y, X)</script><script type="math/tex; mode=display">Cov(aX, bY) = abCov(X, Y)</script><script type="math/tex; mode=display">Cov(X_1 + X_2, Y) = Cov(X_1, Y) + Cov(X_2, Y)</script><p>协方差是两个随机变量具有相同方向变化趋势的度量:</p>
<ul>
<li>若$Cov(X, Y) &gt; 0$, 则X和Y的变化趋势相同</li>
<li>若$Cov(X, Y) &lt; 0$, 则X和Y的变化趋势相反</li>
<li>若$Cov(X, Y) = 0$, 则X和Y则不相关, 即变化没有什么相关性</li>
</ul>
<p>对于n个随机向量($X_1, X_2, X_3…X_n$), 任意两个元素$X_i$和$X_j$都可以得到一个协方差, 从而形成一个n*n的矩阵即为协方差矩阵, 协方差矩阵为对称矩阵</p>
<script type="math/tex; mode=display">C_{ij} = E\{[E_i - E(X_i)][E_j - E(X_j)]\} = Cov(X_i, X_j)</script><script type="math/tex; mode=display">\begin{bmatrix}
{c_{11}}&{c_{12}}&{\cdots}&{c_{1n}}\\
{c_{21}}&{c_{22}}&{\cdots}&{c_{2n}}\\
{\vdots}&{\vdots}&{\ddots}&{\vdots}\\
{c_{m1}}&{c_{m2}}&{\cdots}&{c_{mn}}\\
\end{bmatrix}</script><h3 id="大数定律"><a href="#大数定律" class="headerlink" title="大数定律"></a>大数定律</h3><ul>
<li>大数定律的意义在于, 随着样本容量n的增加, 样本平均数将接近于总体平均数(期望$\mu$), 所以在统计推断中, 一般都会使用样本平均数估计总体平均数的值.</li>
<li>使用一部分样本的平均值来代替整体样本的期望/均值, 出现偏差的可能是存在的, 但是当n足够大的时候, 偏差的可能性是非常小的, 当n无限大的时候, 这种可能性的概率基本为0</li>
<li>大数定律的作用就是为使用频率来估计概率提供来理论支持; 为使用部分数据来近似的模拟构建全部数据特征提供来理论支持</li>
</ul>
<h3 id="中心极限定理"><a href="#中心极限定理" class="headerlink" title="中心极限定理"></a>中心极限定理</h3><ul>
<li>中心极限定理(Central Limit Theorem), 假设${X_n}$为独立同分布的随机变量序列, 并有相同的期望$\mu$和方差$\sigma^2$, 则$X_n$服从中心极限定理, 且${Z_n}$为随机序列${X_n}$的规范和:<script type="math/tex; mode=display">Y_n = X_1 + X_2 + ... + X_n = \sum_{n=1}^{n}{X_i} \rightarrow N(n\mu, n\sigma^2)</script><script type="math/tex; mode=display">Z_n = \frac{Y_n - E(Y_n)}{\sqrt{D(Y_n)}} = \frac{Y_n - n\mu}{\sqrt{n}\sigma} \rightarrow(0, 1)</script></li>
<li>中心极限定理就是一般在同分布的情况下, 抽样样本值的规范和在总体数量趋于无穷时的极限分布近似于正态分布</li>
</ul>
<h3 id="最大似然估计"><a href="#最大似然估计" class="headerlink" title="最大似然估计"></a>最大似然估计</h3><ul>
<li>最大似然估计(Maximum Likelihood Estimation, MLE)是一种具有理论性的参数估计方法. 基本思想: 当从模型总体随机抽取n组样本观测值后, 最合理的参数估计量应该使得从模型中抽取n组样本观测值的概率最大, 步骤如下:<ul>
<li>写出似然函数</li>
<li>对似然函数取对数, 并整理</li>
<li>求导数</li>
<li>解似然函数</li>
</ul>
</li>
</ul>
<p>设总体分布为$f(x, \theta)$, $X_n$为该总体采样得到的样本. 因为随机序列${X_n}$独立同分布, 则它们的联合密度函数为:</p>
<script type="math/tex; mode=display">L(x_1, x_2, ..., x_n) = \prod_{i=1}^{n}{f(x_i; \theta_1, \theta_2, ..., \theta_n)}</script><ul>
<li>$\theta$被看作固定但是未知的参数, 反过来, 因为样本的已经存在, 可以看作${X_n}$是固定的, $L(x, \theta)$是关于$\theta$的函数, 即似然函数</li>
<li>求参数$\theta$, 使得似然函数取最大值, 此为最大似然估计法</li>
</ul>
<p><a href="http://fangs.in/post/thinkstats/likelihood/" target="_blank" rel="noopener">似然与极大似然估计</a></p>
<h3 id="向量的运算"><a href="#向量的运算" class="headerlink" title="向量的运算"></a>向量的运算</h3><p>两个向量: $\overrightarrow{a} = (x_1, y_1)$, $\overrightarrow{b} = (x_2, y_2)$, 并且a和b之间的夹角为$\theta$</p>
<ul>
<li>数量积: 两个向量的数量积(内积, 点积)是一个数量/实数, 记作$\overrightarrow{a} \cdot \overrightarrow{b}$<script type="math/tex; mode=display">\overrightarrow{a} \cdot \overrightarrow{b} = \vert \overrightarrow{a} \vert * \vert \overrightarrow{b} \vert * cos\theta</script></li>
<li>向量积: 两个向量的向量积(外积, 叉积)是一个向量, 记作$\overrightarrow{a} \times \overrightarrow{b}$; 向量积即两个不共线非零向量所在平面的一组法向量<script type="math/tex; mode=display">\vert \overrightarrow{a} \times \overrightarrow{b} \vert = \vert \overrightarrow{a} \vert * \vert \overrightarrow{b} \vert * sin\theta</script></li>
</ul>
<h3 id="矩阵的运算"><a href="#矩阵的运算" class="headerlink" title="矩阵的运算"></a>矩阵的运算</h3><ul>
<li>假设A, B均为$m*n$阶矩阵, 那么<ul>
<li>$C = A \pm B$</li>
<li>$A + B = B +A$</li>
<li>$(A + B) + C = A + (B + C)$</li>
<li>$(\lambda\mu)A = \lambda(\mu A)$</li>
<li>$\lambda(A + B) = \lambda A + \lambda B$</li>
<li>$(AB)C = A(BC)$</li>
<li>$(A + B)C = AC + BC$</li>
<li>$C(A + B) = CA + CB$</li>
<li>$(A^T)^T = A$</li>
<li>$(\lambda A)^T = \lambda A^T$</li>
<li>$(AB)^T = B^TA^T$</li>
<li>$(A + B)^T = A^T + B^T$</li>
</ul>
</li>
</ul>
<h3 id="QR分解"><a href="#QR分解" class="headerlink" title="QR分解"></a>QR分解</h3><ul>
<li>QR分解是将矩阵分解为一个正交矩阵和一个上三角矩阵的乘积</li>
</ul>
<p><img src="/数学概念/QR分解示意图.png" width="400px"></p>
<ul>
<li>其中, Q为正交矩阵, $Q^TQ = I, R为上三角矩阵$</li>
<li>QR分解经常被用来解<a href="https://blog.csdn.net/qq_29721419/article/details/69676770" target="_blank" rel="noopener">线性最小二乘问题</a></li>
</ul>
<h3 id="SVD分解"><a href="#SVD分解" class="headerlink" title="SVD分解"></a>SVD分解</h3><ul>
<li>奇异值分解(Singular Value Decomposition)是一种重要的矩阵分解方法, 可以看作是对称矩阵在任意矩阵上的推广</li>
<li>假设A为一个$m*n$阶的实矩阵, 则存在一个分解使得:<script type="math/tex; mode=display">A_{m*n} = U_{m*n}\Sigma_{m*n}V_{m*n}^T</script><ul>
<li>通常奇异值由大到小排列, 这样$\Sigma$便能由A唯一确定了</li>
</ul>
</li>
</ul>
<h3 id="向量的导数"><a href="#向量的导数" class="headerlink" title="向量的导数"></a>向量的导数</h3><p>A为一个$m*n$阶的矩阵, $x$为$n\ast1$的列向量, 则$Ax$为$m\ast1$的列向量, 计作$\overrightarrow{y} = A \cdot \overrightarrow{x}$</p>
<script type="math/tex; mode=display">A = \begin{bmatrix}
{a_{11}}&{a_{12}}&{\cdots}&{a_{1n}}\\
{a_{21}}&{a_{22}}&{\cdots}&{a_{2n}}\\
{\vdots}&{\vdots}&{\ddots}&{\vdots}\\
{a_{m1}}&{a_{m2}}&{\cdots}&{a_{mn}}\\
\end{bmatrix}</script><script type="math/tex; mode=display">\overrightarrow{x} = \begin{bmatrix}
{x_{1}}\\
{x_{2}}\\
{\vdots}\\
{a_{n}}\\
\end{bmatrix}</script><script type="math/tex; mode=display">\overrightarrow{y} = \begin{bmatrix}
{a_{11}x_1 + a_{12}x_2 + \cdots + a_{1n}x_n}\\
{a_{21}x_1 + a_{22}x_2 + \cdots + a_{2n}x_n}\\
{\vdots}\\
{a_{m1}x_1 + a_{m2}x_2 + \cdots + a_{mn}x_n}\\
\end{bmatrix}</script><script type="math/tex; mode=display">\frac{ \partial \overrightarrow{y} }{ \partial \overrightarrow{x} } = \frac{ \partial A\overrightarrow{x} }{ \partial \overrightarrow{x} } = 

\displaystyle \frac{\partial}{\partial \overrightarrow{x}} \begin{bmatrix}
{a_{11}x_1 + a_{12}x_2 + \cdots + a_{1n}x_n}\\
{a_{21}x_1 + a_{22}x_2 + \cdots + a_{2n}x_n}\\
{\vdots}\\
{a_{m1}x_1 + a_{m2}x_2 + \cdots + a_{mn}x_n}\\
\end{bmatrix}

= \begin{bmatrix}
{a_{11}}&{a_{21}}&{\cdots}&{a_{m1}}\\
{a_{12}}&{a_{22}}&{\cdots}&{a_{m2}}\\
{\vdots}&{\vdots}&{\ddots}&{\vdots}\\
{a_{1n}}&{a_{2n}}&{\cdots}&{a_{mn}}\\
\end{bmatrix}

= A^T</script><h4 id="向量的导数-1"><a href="#向量的导数-1" class="headerlink" title="向量的导数"></a>向量的导数</h4><script type="math/tex; mode=display">\frac{\partial A \overrightarrow{x}}{\partial \overrightarrow{x}} = A^T</script><script type="math/tex; mode=display">\frac{\partial A \overrightarrow{x}}{\partial \overrightarrow{x}^T} = A</script><script type="math/tex; mode=display">\frac{\partial (\overrightarrow{x}^TA)}{\partial \overrightarrow{x}} = A</script><h4 id="标量对向量的导数"><a href="#标量对向量的导数" class="headerlink" title="标量对向量的导数"></a>标量对向量的导数</h4><ul>
<li>$A$为$n*n$的矩阵, $x$为$n \ast 1$的列向量, 计作$\overrightarrow{y} = \overrightarrow{x}^T \cdot A \cdot \overrightarrow{x}$</li>
<li>同理可得: <script type="math/tex; mode=display">\frac{\partial{y}}{\partial{\overrightarrow{x}}} = \frac{\partial(\overrightarrow{x}^T \cdot A \cdot \overrightarrow{x})}{\partial{\overrightarrow{x}}} = (A^T + A) \cdot \overrightarrow{x}</script></li>
<li>若A为对称矩阵, 则有<script type="math/tex; mode=display">\frac{\partial(\overrightarrow{x}^T A \overrightarrow{x})}{\partial{\overrightarrow{x}}} = 2A\overrightarrow{x}</script>推导过程如下:</li>
</ul>
<script type="math/tex; mode=display">A = \begin{bmatrix}
{a_{11}}&{a_{12}}&{\cdots}&{a_{1n}}\\
{a_{21}}&{a_{22}}&{\cdots}&{a_{2n}}\\
{\vdots}&{\vdots}&{\ddots}&{\vdots}\\
{a_{m1}}&{a_{m2}}&{\cdots}&{a_{mn}}\\
\end{bmatrix}</script><script type="math/tex; mode=display">\overrightarrow{x} = \begin{bmatrix}
{x_{1}}\\
{x_{2}}\\
{\vdots}\\
{a_{n}}\\
\end{bmatrix}</script><script type="math/tex; mode=display">\begin{align}
\overrightarrow{x}^T A \overrightarrow{x} 
&= (x_1, x_2,\cdots, x_n)
\begin{bmatrix}
{a_{11}}&{a_{12}}&{\cdots}&{a_{1n}}\\
{a_{21}}&{a_{22}}&{\cdots}&{a_{2n}}\\
{\vdots}&{\vdots}&{\ddots}&{\vdots}\\
{a_{n1}}&{a_{n2}}&{\cdots}&{a_{nn}}\\
\end{bmatrix}
\begin{bmatrix}
{x_{1}}\\
{x_{2}}\\
{\vdots}\\
{a_{n}}\\
\end{bmatrix}\\
&=(x_1, x_2,\cdots, x_n)(\Sigma_{j=1}^{n}{a_{1j}{x_j}}, \Sigma_{j=1}^{n}{a_{2j}{x_j}}, \cdots, \Sigma_{j=1}^{n}{a_{nj}{x_j}})^T\\
&=x_1\Sigma_{j=1}^{n}{a_{1j}{x_j}} + x_2\Sigma_{j=1}^{n}{a_{2j}{x_j}} + \cdots + x_n\Sigma_{j=1}^{n}{a_{nj}{x_j}}\\
&=\Sigma_{i=1}^{n} \Sigma_{j=1}^{n} a_{ij} x_i x_j\\
\end{align}</script><script type="math/tex; mode=display">\begin{align}
\frac{\partial(\overrightarrow{x}^T A \overrightarrow{x})}{\overrightarrow{x}} &= \frac{\partial(\Sigma_{i=1}^{n} \Sigma_{j=1}^{n} a_{ij} x_i x_j)}{\overrightarrow{x}}\\
&=\frac{\partial}{\overrightarrow{x}}[\Sigma_{i=1}^{n}(a_{i1}x_ix_1 + a_{i2}x_ix_2 + \cdots + a_{in}x_ix_n)]\\
&= \frac{\partial}{\overrightarrow{x}}[\\
&a_{11}x_1x_1 + a_{12}x_1x_2 + \cdots + a_{1n}x_1x_n +\\
&a_{21}x_2x_1 + a_{22}x_2x_2 + \cdots + a_{2n}x_2x_n +\\
&\vdots\\
&a_{n1}x_nx_1 + a_{n2}x_nx_2 + \cdots + a_{nn}x_nx_n ]\\
&=\\
&[a_{11}x_1 + a_{12}x_2 + \cdots + a_{1n}x_n +\\
&a_{21}x_2+\\
&\vdots\\
&a_{n1}x_n] +\\

[&\qquad\quad a_{12}x_1 +\\
&a_{21}x_1 + a_{22}x_2 + \cdots + a_{2n}x_n +\\
&\vdots\\
&\qquad\quad a_{n2}x_n] +\\
& \vdots\\
&+ \\
[&\qquad \qquad \qquad \qquad \qquad a_{1n}x_1 +\\
 &\qquad \qquad \qquad \qquad \qquad a_{2n}x_2 +\\
 &\vdots\\
 &+ \\
 &a_{n1}x_1 + a_{n2}x_2 + \cdots + a_{nn}x_n]\\

\end{align}</script><p>由上式得到</p>
<script type="math/tex; mode=display">
\begin{bmatrix}
{2a_{11}}&{a_{12}}&{a_{13}}&{\cdots}&{a_{1n}}\\
{a_{21}}&{0}&{0}&{\cdots}&{0}\\
{a_{31}}&{0}&{0}&{\cdots}&{0}\\
{\vdots}&{\vdots}&{\ddots}&{\vdots}\\
{a_{m1}}&{0}&{0}&{\cdots}&{0}\\
\end{bmatrix}

+

\begin{bmatrix}
{0}&{a_{12}}&{0}&{\cdots}&{0}\\
{a_{21}}&{2a_{22}}&{a_{23}}&{\cdots}&{a_{2n}}\\
{0}&{a_{32}}&{0}&{\cdots}&{0}\\
{\vdots}&{\vdots}&{\ddots}&{\vdots}\\
{0}&{a_{n2}}&{0}&{\cdots}&{0}\\
\end{bmatrix} 

+ \cdots +

\begin{bmatrix}
{0}&{0}&{0}&{\cdots}&{a_{1n}}\\
{0}&{0}&{0}&{\cdots}&{a_{2n}}\\
{0}&{0}&{0}&{\cdots}&{a_{3n}}\\
{\vdots}&{\vdots}&{\ddots}&{\vdots}\\
{a_{m1}}&{a_{m2}}&{a_{m3}}&{\cdots}&{2a_{mn}}\\
\end{bmatrix} 
= \Sigma_{j=1}^{n}(a_{ij} + a_{ji})x_j</script><h4 id="标量对方阵对导数"><a href="#标量对方阵对导数" class="headerlink" title="标量对方阵对导数"></a>标量对方阵对导数</h4><p>A为$n * n$的矩阵, $|A|$为A的行列式, 计算$\frac{\partial{|A|}}{\partial{A}}$</p>
<script type="math/tex; mode=display">\forall 1 \le i \le n, |A| = \Sigma_{j=1}^{n}a_{ij}(-1)^{i+j}M_{ij}</script><script type="math/tex; mode=display">\frac{\partial |A|}{\partial a_{ij}} = \frac{\partial(\Sigma_{j=1}^{n}a_{ij}(-1)^{i+j}M_{ij})}{\partial a_{ij}} = (-1)^{i+j}M_{ij} = A_{ji}^*</script><script type="math/tex; mode=display">\frac{\partial \lvert A \rvert}{\partial A} = (A^*)^T = \lvert A \rvert \cdot (A^{-1})^T</script><h2 id="模型训练及测试"><a href="#模型训练及测试" class="headerlink" title="模型训练及测试"></a>模型训练及测试</h2><ul>
<li>模型选择, 对特定任务最优建模方法的选择或者对特定模型最佳参数的选择</li>
<li>在训练数据集上运行模型(算法)并在测试数据集中测试效果, 迭代进行数据模型对修改, 这种方式称为交叉验证(将原始数据分为训练集和测试集, 使用训练集构建模型, 并使用测试集评估模型提供修改意见)</li>
<li>模型的选择会尽可能多的选择算法进行执行, 并比较执行结果 </li>
<li>模型的测试一般从以下几个方面来进行比较, 分别是准确率, 召回率, 精准率, F值 <ul>
<li>准确率(Accuracy) = 提取出的正确样本数/总样本数</li>
<li>召回率(Recall) = 正确的正例样本数/样本中的正例样本数- 覆盖率</li>
<li>精确度(Precision) = 正确的正例样本数/预测为正例的样本数</li>
<li>F值 = Precision <em> Recall </em> 2 / (Precision + Recall), 即F值是精准度和召回率的调和平均值</li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th></th>
<th>预测值</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td>正例</td>
<td>负例</td>
</tr>
<tr>
<td>真实值</td>
<td>正例</td>
<td>true positive真正例(A)</td>
<td>false negative假负例(B)</td>
</tr>
<tr>
<td></td>
<td>负例</td>
<td>false positive假正例(C)</td>
<td>true negative真负例(D)</td>
</tr>
</tbody>
</table>
</div>
<p>true positive(hit)真正例, 确实是正例<br>true negative(Correct Rejection)真负例, 确实是负例<br>false positive(False Alarm)假正例, 本来真实值是负例, 被预测为正例了, 虚报, 干扰报警<br>false negative(Miss)假负例, 本来真实值是正例, 被预测为负例了, 即没有预测出来</p>
<p>击中(Hit)(报准)和正确拒绝(Correct Rejection)是正确反应, 虚报(False Alarm)和漏报(Miss)是错误反应</p>
<p>A和D预测正确, B和C预测错误, 那么计算结果为:</p>
<script type="math/tex; mode=display">Accuracy = (A + D) / (A + B + C + D)</script><script type="math/tex; mode=display">Recall = A / (A + B)</script><script type="math/tex; mode=display">Precision = A / (A + C)</script><script type="math/tex; mode=display">\displaystyle F = \frac{Precision \ast Recall \ast 2}{Precision + Recall}</script><p>举个例子, 真实值中, 正例为80, 负例为20; 预测值中, 正例为90, 负例为10, 然而, 在模型的实际预测中, 原本有75个真正的正例, 有15个是假正例, 5个假负例和5个真负例, 如下图所示:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th></th>
<th>预测值</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td>正例90</td>
<td>负例10</td>
</tr>
<tr>
<td>真实值</td>
<td>正例80</td>
<td>真正例(A)75</td>
<td>假负例(B)5</td>
</tr>
<tr>
<td></td>
<td>负例20</td>
<td>假正例(C)15</td>
<td>真负例(D)5</td>
</tr>
</tbody>
</table>
</div>
<p>Accuracy和Recall是一对互斥的关系, Accuracy在增大的时候Recall是在减小的</p>
<p><a href="/ai/AI/precision和accuracy的区别/">precision和accuracy的区别</a></p>
<h2 id="ROC"><a href="#ROC" class="headerlink" title="ROC"></a>ROC</h2><p>ROC(Receiver Operating Characteristic), 描述的是分类混淆矩阵中FPR-TPR之间的相对变化情况.<br>纵轴是TPR(True Positive Rate), 横轴是FPR(False Positive Rate)</p>
<p>如果二元分类器输出的是对正样本对一个分类概率值, 当取不同阈值时会得到不同当混淆矩阵， 对应于ROC曲线上当一个点, ROC曲线就反应了FPR和TPR之间权衡当情况, 通俗的说, 即在TPR随着FPR递增的情况下, 谁增长的更快, 快多少的问题. TPR增长的越快, 曲线越往上弯曲, AUC就越大, 反应了模型的分类性能就越好. 当正负样本不平衡时, 这种模型评价方式比起一般当精确度评价方式的好处尤其显著. </p>
<h3 id="AUC-Area-Under-Curve"><a href="#AUC-Area-Under-Curve" class="headerlink" title="AUC(Area Under Curve)"></a>AUC(Area Under Curve)</h3><p>AUC被定义为ROC曲线下的面积, 显然这个面积的数值不会大于1. 由于ROC曲线一般都处于<code>y=x</code>这条直线的上方, 所以AUC的取之范围在0.5和1之间. AUC作为数值可以直观的评价分类器的好坏, 值越大越好.</p>
<p>AUC的值一般要求在0.7以上.</p>
<h3 id="模型评估"><a href="#模型评估" class="headerlink" title="模型评估"></a>模型评估</h3><p>回归结果度量</p>
<ul>
<li>explained_varicance_score, 可解释方差的回归评分函数</li>
<li>mean_absolute_error, 平均绝对误差</li>
<li>mean_squared_error, 平均平方误差</li>
</ul>
<h3 id="模型评估总结-分类算法评估方式"><a href="#模型评估总结-分类算法评估方式" class="headerlink" title="模型评估总结_分类算法评估方式"></a>模型评估总结_分类算法评估方式</h3><div class="table-container">
<table>
<thead>
<tr>
<th>指标</th>
<th>描述</th>
<th>scikit-learn函数</th>
</tr>
</thead>
<tbody>
<tr>
<td>Precision</td>
<td>精确度</td>
<td>from sklearn.metrics import precision_score</td>
</tr>
<tr>
<td>Recall</td>
<td>召回率</td>
<td>from sklearn.metrics import recall_score</td>
</tr>
<tr>
<td>F1</td>
<td>F1指标</td>
<td>from sklearn.metrics import f1_score</td>
</tr>
<tr>
<td>Confusion Matrix</td>
<td>混淆矩阵</td>
<td>from sklearn.metrics import confusion_matrix</td>
</tr>
<tr>
<td>ROC</td>
<td>ROC曲线</td>
<td>from sklearn.metrics import roc</td>
</tr>
<tr>
<td>AUC</td>
<td>ROC曲线下的面积</td>
<td>from sklearn.metrics import auc</td>
</tr>
<tr>
<td>Mean Square Error(MSE, RMSE)</td>
<td>平均方差</td>
<td>from sklearn.metrics import mean_squared_error</td>
</tr>
<tr>
<td>Absolute Error(MAE, RAE)</td>
<td>平均方差</td>
<td>from sklearn.metrics import mean_absolute_error, median_absolute_error</td>
</tr>
<tr>
<td>R-Squared</td>
<td>平均方差</td>
<td>from sklearn.metrics import r2_score</td>
</tr>
</tbody>
</table>
</div>
<script type="math/tex; mode=display">\overrightarrow{x}^T A \overrightarrow{x} = (x_1, x_2,\cdots, x_n)
\begin{bmatrix}
{a_{11}}&{a_{12}}&{\cdots}&{a_{1n}}\\
{a_{21}}&{a_{22}}&{\cdots}&{a_{2n}}\\
{\vdots}&{\vdots}&{\ddots}&{\vdots}\\
{a_{n1}}&{a_{n2}}&{\cdots}&{a_{nn}}\\
\end{bmatrix}
\begin{bmatrix}
{x_{1}}\\
{x_{2}}\\
{\vdots}\\
{a_{n}}\\
\end{bmatrix}
=(x_1, x_2,\cdots, x_n)(\Sigma_{j=1}^{n}{a_{1j}{x_j}}, \Sigma_{j=1}^{n}{a_{2j}{x_j}}, \cdots, \Sigma_{j=1}^{n}{a_{nj}{x_j}})^T
=x_1\Sigma_{j=1}^{n}{a_{1j}{x_j}} + x_2\Sigma_{j=1}^{n}{a_{2j}{x_j}} + \cdots + x_n\Sigma_{j=1}^{n}{a_{nj}{x_j}}
=\Sigma_{i=1}^{n} \Sigma_{j=1}^{n} a_{ij} x_i x_j</script>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/鸢尾花数据分类/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Wenhua">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/鸢尾花数据分类/" itemprop="url">鸢尾花数据分类</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-05T15:23:29+08:00">
                2019-10-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ai/" itemprop="url" rel="index">
                    <span itemprop="name">ai</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"># 从sklearn导入数据集</span><br><span class="line">from sklearn import datasets</span><br><span class="line"># 从数据集导入鸢尾花数据集</span><br><span class="line">iris = datasets.load_iris()</span><br><span class="line"># &apos;data&apos;, the data to learn, &apos;target&apos;, the classification labels,</span><br><span class="line">X, y = iris.data, iris.target</span><br><span class="line"></span><br><span class="line"># test train split</span><br><span class="line">from sklearn.model_selection import train_test_split</span><br><span class="line"># random_state is the random number generator</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=4)</span><br><span class="line"></span><br><span class="line"># Model training</span><br><span class="line">from sklearn.neighbors import KNeighborsClassifier</span><br><span class="line">knn = KNeighborsClassifier(n_neighbors=5)</span><br><span class="line">knn.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"># Predict</span><br><span class="line">y_pred = knn.predict(X_test)</span><br><span class="line"></span><br><span class="line"># Score</span><br><span class="line">score = knn.score(X_test, y_test)</span><br><span class="line">print(f&apos;score: &#123;score&#125;&apos;)</span><br><span class="line"></span><br><span class="line"># Cross validation</span><br><span class="line">from sklearn.model_selection import cross_val_score</span><br><span class="line">score = cross_val_score(knn, X, y, cv=5, scoring=&apos;accuracy&apos;)</span><br><span class="line">print(f&apos;score: &#123;score&#125;&apos;)</span><br><span class="line"></span><br><span class="line"># Parameter tuning</span><br><span class="line">k_range = range(1, 31)</span><br><span class="line">k_scores = []</span><br><span class="line">for k in k_range:</span><br><span class="line">    knn = KNeighborsClassifier(n_neighbors=k)</span><br><span class="line">    scores = cross_val_score(knn, X, y, cv=10, scoring=&apos;accuracy&apos;)</span><br><span class="line">    k_scores.append(scores.mean())</span><br><span class="line"></span><br><span class="line">print(f&apos;k_range: &#123;k_range&#125;&apos;)</span><br><span class="line">print(f&apos;k_scores: &#123;k_scores&#125;&apos;)</span><br><span class="line"></span><br><span class="line"># plot</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">plt.plot(k_range, k_scores)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"># model save</span><br><span class="line">import pickle</span><br><span class="line">with open(&apos;save/knn_iris.mdl&apos;, &apos;wb&apos;) as f:</span><br><span class="line">    pickle.dump(knn, f)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/matplotlib/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Wenhua">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/matplotlib/" itemprop="url">matplotlib</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-04T16:48:30+08:00">
                2018-10-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ai/" itemprop="url" rel="index">
                    <span itemprop="name">ai</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="显示"><a href="#显示" class="headerlink" title="显示"></a>显示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib tk  # 在GUI中显示</span><br><span class="line">%matplotlib inline  # 行内显示, 默认是行内显示</span><br></pre></td></tr></table></figure>
<h3 id="颜色，标记，-线形"><a href="#颜色，标记，-线形" class="headerlink" title="颜色，标记， 线形"></a>颜色，标记， 线形</h3><ul>
<li>LineStyle 线形</li>
<li>LineWidth 线宽</li>
<li>Color 颜色</li>
<li>Marker 标记点的形状</li>
<li>Label 图例的标签</li>
</ul>
<h3 id="刻度-标题-标签和图例"><a href="#刻度-标题-标签和图例" class="headerlink" title="刻度, 标题, 标签和图例"></a>刻度, 标题, 标签和图例</h3><ul>
<li>legend, 为了展示每个数据对应的图像名称和数据结构, 生成默认图例</li>
<li>xlabel/ylabel, 设置x/y轴标签</li>
<li>title, 设置标题</li>
<li>xlim/ylim, 控制图标的范围</li>
<li>xticks/yticks, 控制图标的刻度</li>
<li>gca, 获取当前坐标轴信息</li>
<li>spines, 设置边框</li>
<li>set_color, 设置边框颜色</li>
</ul>
<h3 id="中文显示问题"><a href="#中文显示问题" class="headerlink" title="中文显示问题"></a>中文显示问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mpl.rcParams[&apos;font.sans-serif&apos;] = [&apos;SimHei&apos;]</span><br><span class="line">mpl.rcParams[&apos;axes.unicode_minus&apos;] = False</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib as mpl</span><br><span class="line"></span><br><span class="line">x1 = [1,2,3]</span><br><span class="line">y1 = [5,7,4]</span><br><span class="line">x2 = [1,2,3]</span><br><span class="line">y2 = [10,14,12]</span><br><span class="line"></span><br><span class="line">plt.plot(x1, y1, &apos;ro--&apos;, label=&quot;1st line&quot;)</span><br><span class="line">plt.plot(x2, y2, &apos;b-&apos;, label=&quot;2nd line&quot;)</span><br><span class="line">plt.xlabel(&apos;月份&apos;)</span><br><span class="line">plt.ylabel(&apos;年份&apos;)</span><br><span class="line">plt.xlim(1,3)</span><br><span class="line">plt.ylim(0,15)</span><br><span class="line">plt.xticks(np.linspace(0, 6, 5))</span><br><span class="line">plt.yticks(np.arange(1, 15, 3), [&apos;2011年&apos;, &apos;2012年&apos;, &apos;2013年&apos;, &apos;2014年&apos;, &apos;2015年&apos;])</span><br><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[&apos;right&apos;].set_color(&apos;none&apos;)</span><br><span class="line">ax.spines[&apos;top&apos;].set_color(&apos;none&apos;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="subplot子图"><a href="#subplot子图" class="headerlink" title="subplot子图"></a>subplot子图</h3><p>figure对象下边创建一个或多个subplot对象(即axes)用于绘制图像</p>
<p><code>subplot(numRows, numCols, plotNum)</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib as mpl</span><br><span class="line"></span><br><span class="line">x1 = [1,2,3]</span><br><span class="line">y1 = [5,7,4]</span><br><span class="line">x2 = [1,2,3]</span><br><span class="line">y2 = [10,14,12]</span><br><span class="line"></span><br><span class="line">plt.subplot(221)</span><br><span class="line">plt.plot(x1, y1, &apos;r-&apos;)</span><br><span class="line">plt.subplot(224)</span><br><span class="line">plt.plot(x2, y2, &apos;b--&apos;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>面向对象的形式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()  # figure实例, 可以添加axes实例</span><br><span class="line">ax = fig.add_subplot(111)  # 返回axes实例, 参数1是子图的总行数, 参数2是子图的总列数, 参数3是子图的位置</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib as mpl</span><br><span class="line"></span><br><span class="line">mpl.rcParams[&apos;font.sans-serif&apos;] = [&apos;SimHei&apos;]</span><br><span class="line">mpl.rcParams[&apos;axes.unicode_minus&apos;] = False</span><br><span class="line"></span><br><span class="line">fig = plt.figure(figsize=(8, 6))</span><br><span class="line">ax1 = fig.add_subplot(221)</span><br><span class="line">ax2 = fig.add_subplot(222)</span><br><span class="line">ax3 = fig.add_subplot(223)</span><br><span class="line"></span><br><span class="line">ax1.plot(np.random.randn(50).cumsum(), &apos;g-&apos;)</span><br><span class="line">ax2.plot(np.random.randn(50).cumsum(), &apos;b--&apos;)</span><br><span class="line">ax3.plot(np.random.randn(50).cumsum(), &apos;k--&apos;)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="subplots"><a href="#subplots" class="headerlink" title="subplots"></a>subplots</h3><p>返回一个图像和多个子图<br>参数: nrows=x, ncols=x, sharex=True, sharey=False, gridspec_kw={‘height_ratios’:[2, 2, 1, 1]}</p>
<p><code>fig, ax = plt.subplots(2, 2)</code>, 参数表示子图的行数和列数, 总共2 * 2个子图, 函数返回一个fig图像和一个子图ax的array列表.</p>
<p>e.g.1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line">fig, axes = plt.subplots(nrows=4, ncols=1, sharex=True, sharey=False)</span><br><span class="line"></span><br><span class="line">print(dir(fig))</span><br><span class="line">fig.suptitle(&apos;test&apos;, fontsize=20)</span><br><span class="line"></span><br><span class="line">axes[0].plot(range(10), &apos;ro-&apos;)</span><br><span class="line">axes[1].plot(range(10), &apos;bo-&apos;)</span><br><span class="line">axes[2].plot(range(10), &apos;go-&apos;)</span><br><span class="line">axes[3].plot(range(10), &apos;mo-&apos;)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p>e.g.2<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib as mpl</span><br><span class="line"></span><br><span class="line">mpl.rcParams[&apos;font.sans-serif&apos;] = [&apos;SimHei&apos;]</span><br><span class="line">mpl.rcParams[&apos;axes.unicode_minus&apos;] = False</span><br><span class="line"></span><br><span class="line">fig, axes = plt.subplots(2, 2)</span><br><span class="line"></span><br><span class="line">for i in range(2):</span><br><span class="line">    for j in range(2):</span><br><span class="line">        axes[i, j].hist(np.random.randn(100), 10, color=&apos;g&apos;, alpha=0.75)</span><br><span class="line">fig.subplots_adjust(wspace=0, hspace=0)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<h3 id="图像保存文件"><a href="#图像保存文件" class="headerlink" title="图像保存文件"></a>图像保存文件</h3><p><code>plt.savefit(文件名称)</code></p>
<h3 id="matplotlib柱状图"><a href="#matplotlib柱状图" class="headerlink" title="matplotlib柱状图"></a>matplotlib柱状图</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">matplotlib.pyplot.bar(*args, **kwargs)</span><br><span class="line">bar(x, height, width, bottom, *args, align=&apos;center&apos;, **kwargs)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import matplotlib as mpl</span><br><span class="line"></span><br><span class="line">mpl.rcParams[&apos;font.sans-serif&apos;] = [&apos;SimHei&apos;]</span><br><span class="line">mpl.rcParams[&apos;axes.unicode_minus&apos;] = False</span><br><span class="line"></span><br><span class="line">plt.figure()</span><br><span class="line">plt.bar([1,3,5,7,9,11], [5,2,7,8,2,6], label=&quot;xxoo&quot;, color=&apos;y&apos;)</span><br><span class="line">plt.bar([2,4,6,8,10,12], [8,6,2,5,6,3], label=&quot;ooxx&quot;, color=&apos;g&apos;)</span><br><span class="line"></span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(&apos;bar number&apos;)</span><br><span class="line">plt.ylabel(&apos;bar height&apos;)</span><br><span class="line"></span><br><span class="line">plt.title(&apos;hello&apos;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="matplotlib直方图"><a href="#matplotlib直方图" class="headerlink" title="matplotlib直方图"></a>matplotlib直方图</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib as mpl</span><br><span class="line"></span><br><span class="line">mpl.rcParams[&apos;font.sans-serif&apos;] = [&apos;SimHei&apos;]</span><br><span class="line">mpl.rcParams[&apos;axes.unicode_minus&apos;] = False</span><br><span class="line"></span><br><span class="line">mu, sigma = 100, 15</span><br><span class="line">x = mu + sigma * np.random.randn(10000)</span><br><span class="line">plt.hist(x, 100, normed=1, facecolor=&apos;g&apos;, alpha=0.75)</span><br><span class="line">plt.title(&apos;直方图&apos;)</span><br><span class="line">plt.text(60, 0.025, r&apos;$\mu=100, \ \sigma=15$&apos;)</span><br><span class="line">plt.axis([40, 160, 0, 0.03])</span><br><span class="line">plt.grid(True)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h3 id="matplotlib散点图"><a href="#matplotlib散点图" class="headerlink" title="matplotlib散点图"></a>matplotlib散点图</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">x = [1, 2, 3, 4, 5, 6, 7, 8]</span><br><span class="line">y = [5, 2, 4, 2, 1, 4, 5, 2]</span><br><span class="line">T = np.random.rand(8) * 125</span><br><span class="line">plt.scatter(x, y, label=&apos;散点分布&apos;, c=T, s=25, marker=&apos;o&apos;, alpha=0.5)</span><br><span class="line">plt.xlabel(&apos;x&apos;)</span><br><span class="line">plt.ylabel(&apos;y&apos;)</span><br><span class="line">plt.title(&apos;散点图&apos;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/qq_34337272/article/details/79555544" target="_blank" rel="noopener">参考</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/pandas/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Wenhua">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/pandas/" itemprop="url">pandas</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-03T07:23:09+08:00">
                2018-10-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ai/" itemprop="url" rel="index">
                    <span itemprop="name">ai</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>Pandas的数据结构: Pandas主要有Series(一维数组), DataFrame(二维数组), Panel(三维数组), Panel4D(四维数组), PanelND(更多维数组)等数据结构. 其中Series和DataFrame应用的最为广泛。</p>
<p>Series是一维带标签的数组, 它可以包含任何数据类型. 包括整数, 字符串, 浮点数, Python对象等. Series可以通过标签来定位.<br>DataFrame是二维的带标签的数据结构. 我们可以通过标签来定位数据. 这是NumPy所没有的.</p>
<h2 id="查看pandas版本"><a href="#查看pandas版本" class="headerlink" title="查看pandas版本"></a>查看pandas版本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; print(pd.__version__)</span><br><span class="line">0.24.2</span><br><span class="line">&gt;&gt;&gt; pd.show_versions()</span><br></pre></td></tr></table></figure>
<h2 id="Series"><a href="#Series" class="headerlink" title="Series"></a>Series</h2><h3 id="创建Series"><a href="#创建Series" class="headerlink" title="创建Series"></a>创建Series</h3><p>Series可以看做由一列数据组成的数据集<br>Series语法如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series(data, index=index)</span><br></pre></td></tr></table></figure></p>
<p>常用的创建Series的方法有如下三种:</p>
<h4 id="从列表创建Series"><a href="#从列表创建Series" class="headerlink" title="从列表创建Series"></a>从列表创建Series</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; arr = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;]</span><br><span class="line">&gt;&gt;&gt; s1 = pd.Series(arr)  # 如果不指定index, 则默认从0开始</span><br><span class="line">&gt;&gt;&gt; s1</span><br><span class="line">0    a</span><br><span class="line">1    b</span><br><span class="line">2    c</span><br><span class="line">3    d</span><br><span class="line">dtype: object</span><br></pre></td></tr></table></figure>
<h4 id="从Ndarray创建Series"><a href="#从Ndarray创建Series" class="headerlink" title="从Ndarray创建Series"></a>从Ndarray创建Series</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; n = np.random.randn(5)  # 几行几列</span><br><span class="line">&gt;&gt;&gt; index = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span><br><span class="line">&gt;&gt;&gt; s2 = pd.Series(n, index)</span><br><span class="line">&gt;&gt;&gt; s2</span><br><span class="line">a    0.077125</span><br><span class="line">b   -0.554191</span><br><span class="line">c    0.167562</span><br><span class="line">d   -1.214207</span><br><span class="line">e   -1.038312</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>
<h4 id="从字典创建Series"><a href="#从字典创建Series" class="headerlink" title="从字典创建Series"></a>从字典创建Series</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; dict = &#123;&apos;a&apos;:1, &apos;b&apos;:2, &apos;c&apos;:3, &apos;d&apos;:4&#125;</span><br><span class="line">&gt;&gt;&gt; s3 = pd.Series(d)</span><br><span class="line">&gt;&gt;&gt; s3</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>
<h3 id="Seires基本操作"><a href="#Seires基本操作" class="headerlink" title="Seires基本操作"></a>Seires基本操作</h3><h4 id="修改Series索引"><a href="#修改Series索引" class="headerlink" title="修改Series索引"></a>修改Series索引</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s1</span><br><span class="line">0    a</span><br><span class="line">1    b</span><br><span class="line">2    c</span><br><span class="line">3    d</span><br><span class="line">dtype: object</span><br><span class="line">&gt;&gt;&gt; s1.index = [&apos;a1&apos;,&apos;a2&apos;,&apos;a3&apos;,&apos;a4&apos;]</span><br><span class="line">&gt;&gt;&gt; s1</span><br><span class="line">a1    a</span><br><span class="line">a2    b</span><br><span class="line">a3    c</span><br><span class="line">a4    d</span><br><span class="line">dtype: object</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; s1.index[0] = &apos;01&apos; </span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">    File &quot;/usr/local/lib/python3.6/dist-packages/pandas/core/indexes/base.py&quot;, line 3938, in __setitem__</span><br><span class="line">        raise TypeError(&quot;Index does not support mutable operations&quot;)</span><br><span class="line">        TypeError: Index does not support mutable operations</span><br><span class="line"># index不支持可变操作</span><br></pre></td></tr></table></figure>
<h4 id="Series纵向拼接"><a href="#Series纵向拼接" class="headerlink" title="Series纵向拼接"></a>Series纵向拼接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s1</span><br><span class="line">a    a</span><br><span class="line">b    b</span><br><span class="line">c    c</span><br><span class="line">d    d</span><br><span class="line">dtype: object</span><br><span class="line">&gt;&gt;&gt; s3</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; s4 = s3.append(s1)</span><br><span class="line">&gt;&gt;&gt; s4</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">a    a</span><br><span class="line">b    b</span><br><span class="line">c    c</span><br><span class="line">d    d</span><br><span class="line">dtype: object</span><br></pre></td></tr></table></figure>
<h4 id="Series按照指定索引删除元素"><a href="#Series按照指定索引删除元素" class="headerlink" title="Series按照指定索引删除元素"></a>Series按照指定索引删除元素</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s4.drop(&apos;a&apos;)</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">b    b</span><br><span class="line">c    c</span><br><span class="line">d    d</span><br><span class="line">dtype: object</span><br></pre></td></tr></table></figure>
<h4 id="Series修改指定索引的元素"><a href="#Series修改指定索引的元素" class="headerlink" title="Series修改指定索引的元素"></a>Series修改指定索引的元素</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s4[&apos;a&apos;] = [11, &apos;a1&apos;]</span><br><span class="line">&gt;&gt;&gt; s4</span><br><span class="line">a    11</span><br><span class="line">b     2</span><br><span class="line">c     3</span><br><span class="line">d     4</span><br><span class="line">a    a1</span><br><span class="line">b     b</span><br><span class="line">c     c</span><br><span class="line">d     d</span><br><span class="line">dtype: object</span><br></pre></td></tr></table></figure>
<h4 id="Series按照指定索引查找元素"><a href="#Series按照指定索引查找元素" class="headerlink" title="Series按照指定索引查找元素"></a>Series按照指定索引查找元素</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s4[&apos;a&apos;]      </span><br><span class="line">a    1</span><br><span class="line">a    a</span><br></pre></td></tr></table></figure>
<h4 id="Series切片"><a href="#Series切片" class="headerlink" title="Series切片"></a>Series切片</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s1</span><br><span class="line">0    a</span><br><span class="line">1    b</span><br><span class="line">2    c</span><br><span class="line">3    d</span><br><span class="line">dtype: object</span><br><span class="line">&gt;&gt;&gt; s1[1:3]</span><br><span class="line">1    b</span><br><span class="line">2    c</span><br><span class="line">dtype: object</span><br></pre></td></tr></table></figure>
<h3 id="Series运算"><a href="#Series运算" class="headerlink" title="Series运算"></a>Series运算</h3><h4 id="Series加法运算"><a href="#Series加法运算" class="headerlink" title="Series加法运算"></a>Series加法运算</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s1</span><br><span class="line">0    a</span><br><span class="line">1    b</span><br><span class="line">2    c</span><br><span class="line">3    d</span><br><span class="line">dtype: object</span><br><span class="line">&gt;&gt;&gt; s2</span><br><span class="line">0    e</span><br><span class="line">1    f</span><br><span class="line">2    g</span><br><span class="line">3    h</span><br><span class="line">dtype: object</span><br><span class="line">&gt;&gt;&gt; s1.add(s2)</span><br><span class="line">0    ae</span><br><span class="line">1    bf</span><br><span class="line">2    cg</span><br><span class="line">3    dh</span><br><span class="line">dtype: object</span><br><span class="line">&gt;&gt;&gt; s2.add(s1)</span><br><span class="line">0    ea</span><br><span class="line">1    fb</span><br><span class="line">2    gc</span><br><span class="line">3    hd</span><br><span class="line">dtype: object</span><br></pre></td></tr></table></figure>
<h4 id="Series减法运算"><a href="#Series减法运算" class="headerlink" title="Series减法运算"></a>Series减法运算</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s3</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; s4</span><br><span class="line">a     4</span><br><span class="line">bb    3</span><br><span class="line">c     2</span><br><span class="line">d     1</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; s3.sub(s4)</span><br><span class="line">a    -3.0</span><br><span class="line">b     NaN</span><br><span class="line">bb    NaN</span><br><span class="line">c     1.0</span><br><span class="line">d     3.0</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>
<h4 id="Series乘法运算"><a href="#Series乘法运算" class="headerlink" title="Series乘法运算"></a>Series乘法运算</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s3</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; s4</span><br><span class="line">a     4</span><br><span class="line">bb    3</span><br><span class="line">c     2</span><br><span class="line">d     1</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; s3.mul(s4)</span><br><span class="line">a     4.0</span><br><span class="line">b     NaN</span><br><span class="line">bb    NaN</span><br><span class="line">c     6.0</span><br><span class="line">d     4.0</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>
<h4 id="Series除法运算"><a href="#Series除法运算" class="headerlink" title="Series除法运算"></a>Series除法运算</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s3</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; s4</span><br><span class="line">a     4</span><br><span class="line">bb    3</span><br><span class="line">c     2</span><br><span class="line">d     1</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; s3.div(s4)</span><br><span class="line">a     0.25</span><br><span class="line">b      NaN</span><br><span class="line">bb     NaN</span><br><span class="line">c     1.50</span><br><span class="line">d     4.00</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>
<h4 id="Series求中位数"><a href="#Series求中位数" class="headerlink" title="Series求中位数"></a>Series求中位数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s3</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; s3.median()</span><br><span class="line">2.5</span><br></pre></td></tr></table></figure>
<h4 id="Series求和"><a href="#Series求和" class="headerlink" title="Series求和"></a>Series求和</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s3</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; s3.sum()</span><br><span class="line">10</span><br></pre></td></tr></table></figure>
<h4 id="Series最大值"><a href="#Series最大值" class="headerlink" title="Series最大值"></a>Series最大值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s3</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; s3.max()</span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<h4 id="Series最小值"><a href="#Series最小值" class="headerlink" title="Series最小值"></a>Series最小值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; s3</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; s3.min()</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h4 id="Series缺失值的检测"><a href="#Series缺失值的检测" class="headerlink" title="Series缺失值的检测"></a>Series缺失值的检测</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; series_10 = pd.Series(&#123;&apos;a&apos;:10, &apos;b&apos;:20, &apos;c&apos;:30, &apos;d&apos;:40&#125;)</span><br><span class="line">&gt;&gt;&gt; series_10.index</span><br><span class="line">Index([&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;], dtype=&apos;object&apos;)</span><br><span class="line">&gt;&gt;&gt; series_20 = pd.Series(series_10,index=new_index)</span><br><span class="line">&gt;&gt;&gt; series_20</span><br><span class="line">a    10.0</span><br><span class="line">b    20.0</span><br><span class="line">c    30.0</span><br><span class="line">d    40.0</span><br><span class="line">e     NaN</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>
<p><code>isnull</code>和<code>notnull</code>检测Series中的缺失值, 返回bool类型的Series值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; pd.isnull(ser_10) </span><br><span class="line">a    False</span><br><span class="line">b    False</span><br><span class="line">c    False</span><br><span class="line">dtype: bool</span><br><span class="line">&gt;&gt;&gt; pd.isnull(ser_20)</span><br><span class="line">a    False</span><br><span class="line">b    False</span><br><span class="line">c    False</span><br><span class="line">d     True</span><br><span class="line">dtype: bool</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; pd.notnull(ser_10)</span><br><span class="line">a    True</span><br><span class="line">b    True</span><br><span class="line">c    True</span><br><span class="line">dtype: bool</span><br><span class="line">&gt;&gt;&gt; pd.notnull(ser_20)</span><br><span class="line">a     True</span><br><span class="line">b     True</span><br><span class="line">c     True</span><br><span class="line">d    False</span><br><span class="line">dtype: bool</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; ser_20</span><br><span class="line">a    10.0</span><br><span class="line">b    20.0</span><br><span class="line">c    30.0</span><br><span class="line">d     NaN</span><br><span class="line">dtype: float64</span><br><span class="line">&gt;&gt;&gt; ser_20[pd.isnull(ser_20)]  # 相当于过滤掉缺失值</span><br><span class="line">d   NaN</span><br><span class="line">dtype: float64</span><br><span class="line">&gt;&gt;&gt; ser_20[pd.notnull(ser_20)]</span><br><span class="line">a    10.0</span><br><span class="line">b    20.0</span><br><span class="line">c    30.0</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure></p>
<h4 id="Series自动对齐"><a href="#Series自动对齐" class="headerlink" title="Series自动对齐"></a>Series自动对齐</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; series_1 = pd.Series([1,2,3,4], index=[&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;])</span><br><span class="line">&gt;&gt;&gt; series_2 = pd.Series([4,3,2,1,5], index=[&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;])</span><br><span class="line">&gt;&gt;&gt; series_1 + series_2  </span><br><span class="line">a    5.0</span><br><span class="line">b    5.0</span><br><span class="line">c    5.0</span><br><span class="line">d    5.0</span><br><span class="line">e    NaN</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure>
<h3 id="Series及其name属性"><a href="#Series及其name属性" class="headerlink" title="Series及其name属性"></a>Series及其name属性</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; series_1.name = &quot;hello world&quot;</span><br><span class="line">&gt;&gt;&gt; series_1.index.name = &apos;xxoo&apos;</span><br><span class="line">&gt;&gt;&gt; series_1</span><br><span class="line">xxoo</span><br><span class="line">a    1</span><br><span class="line">b    2</span><br><span class="line">c    3</span><br><span class="line">d    4</span><br><span class="line">Name: hello world, dtype: int64</span><br></pre></td></tr></table></figure>
<h2 id="DataFrame"><a href="#DataFrame" class="headerlink" title="DataFrame"></a>DataFrame</h2><h3 id="创建DataFrame"><a href="#创建DataFrame" class="headerlink" title="创建DataFrame"></a>创建DataFrame</h3><h4 id="通过NumPy数组创建DataFrame"><a href="#通过NumPy数组创建DataFrame" class="headerlink" title="通过NumPy数组创建DataFrame"></a>通过NumPy数组创建DataFrame</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; dates = pd.date_range(&apos;today&apos;, periods=6)</span><br><span class="line">&gt;&gt;&gt; dates</span><br><span class="line">DatetimeIndex([&apos;2019-05-07 11:19:46.800556&apos;, &apos;2019-05-08 11:19:46.800556&apos;,</span><br><span class="line">               &apos;2019-05-09 11:19:46.800556&apos;, &apos;2019-05-10 11:19:46.800556&apos;,</span><br><span class="line">               &apos;2019-05-11 11:19:46.800556&apos;, &apos;2019-05-12 11:19:46.800556&apos;],</span><br><span class="line">              dtype=&apos;datetime64[ns]&apos;, freq=&apos;D&apos;)</span><br><span class="line">&gt;&gt;&gt; num_arr = np.random.randn(6,4)</span><br><span class="line">&gt;&gt;&gt; num_arr</span><br><span class="line">array([[ 0.73018504, -0.92169922, -1.37867963, -1.40692501],</span><br><span class="line">       [ 1.61475442,  0.07078674,  0.59075899, -1.994313  ],</span><br><span class="line">       [ 0.00830036,  0.20939717,  0.50323969,  0.43514028],</span><br><span class="line">       [ 0.23984788,  0.15418066, -1.06420981,  0.58894686],</span><br><span class="line">       [ 1.30096803,  0.87426295, -0.56629328, -0.14877761],</span><br><span class="line">       [ 0.94481793, -1.04911144, -1.39403504,  0.77847438]])</span><br><span class="line">&gt;&gt;&gt; columns=[&apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;D&apos;]</span><br><span class="line">&gt;&gt;&gt; df1 = pd.DataFrame(num_arr, dates, columns)</span><br><span class="line">&gt;&gt;&gt; df1</span><br><span class="line">                                   A         B         C         D</span><br><span class="line">2019-05-07 11:19:46.800556  0.730185 -0.921699 -1.378680 -1.406925</span><br><span class="line">2019-05-08 11:19:46.800556  1.614754  0.070787  0.590759 -1.994313</span><br><span class="line">2019-05-09 11:19:46.800556  0.008300  0.209397  0.503240  0.435140</span><br><span class="line">2019-05-10 11:19:46.800556  0.239848  0.154181 -1.064210  0.588947</span><br><span class="line">2019-05-11 11:19:46.800556  1.300968  0.874263 -0.566293 -0.148778</span><br><span class="line">2019-05-12 11:19:46.800556  0.944818 -1.049111 -1.394035  0.778474</span><br></pre></td></tr></table></figure>
<h4 id="通过dict创建DataFrame"><a href="#通过dict创建DataFrame" class="headerlink" title="通过dict创建DataFrame"></a>通过dict创建DataFrame</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; data = &#123;&apos;animal&apos;: [&apos;cat&apos;, &apos;cat&apos;, &apos;snake&apos;, &apos;dog&apos;, &apos;dog&apos;, &apos;cat&apos;, &apos;snake&apos;, &apos;cat&apos;, &apos;dog&apos;, &apos;dog&apos;],</span><br><span class="line">...         &apos;age&apos;: [2.5, 3, 0.5, np.nan, 5, 2, 4.5, np.nan, 7, 3],</span><br><span class="line">...         &apos;visits&apos;: [1, 3, 2, 3, 2, 3, 1, 1, 2, 1],</span><br><span class="line">...         &apos;priority&apos;: [&apos;yes&apos;, &apos;yes&apos;, &apos;no&apos;, &apos;yes&apos;, &apos;no&apos;, &apos;no&apos;, &apos;no&apos;, &apos;yes&apos;, &apos;no&apos;, &apos;no&apos;]&#125;</span><br><span class="line">&gt;&gt;&gt; </span><br><span class="line">&gt;&gt;&gt; labels = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;, &apos;g&apos;, &apos;h&apos;, &apos;i&apos;, &apos;j&apos;]</span><br><span class="line">&gt;&gt;&gt; df2 = pd.DataFrame(data, index=labels)</span><br><span class="line">&gt;&gt;&gt; df2</span><br><span class="line">  animal  age  visits priority</span><br><span class="line">a    cat  2.5       1      yes</span><br><span class="line">b    cat  3.0       3      yes</span><br><span class="line">c  snake  0.5       2       no</span><br><span class="line">d    dog  NaN       3      yes</span><br><span class="line">e    dog  5.0       2       no</span><br><span class="line">f    cat  2.0       3       no</span><br><span class="line">g  snake  4.5       1       no</span><br><span class="line">h    cat  NaN       1      yes</span><br><span class="line">i    dog  7.0       2       no</span><br><span class="line">j    dog  3.0       1       no</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; data = &#123;&apos;成绩&apos;:[90, 90, 99], &apos;姓名&apos;: [&apos;Tony&apos;,&apos;Wayne&apos;,&apos;Moon&apos;], &apos;爱好&apos;:[&apos;篮球&apos;,&apos;排球&apos;,&apos;乒乓球&apos;]&#125;  </span><br><span class="line">&gt;&gt;&gt; df_1 = pd.DataFrame(data)</span><br><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">   成绩     姓名   爱好</span><br><span class="line">0  90   Tony   篮球</span><br><span class="line">1  90  Wayne   排球</span><br><span class="line">2  99   Moon  乒乓球</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; df_1.index</span><br><span class="line">RangeIndex(start=0, stop=3, step=1)</span><br><span class="line">&gt;&gt;&gt; df_1.index = [&apos;xx&apos;,&apos;oo&apos;,&apos;xxoo&apos;]</span><br><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">      成绩     姓名   爱好</span><br><span class="line">xx    90   Tony   篮球</span><br><span class="line">oo    90  Wayne   排球</span><br><span class="line">xxoo  99   Moon  乒乓球</span><br></pre></td></tr></table></figure>
<h4 id="DataFrame通过二维数组创建"><a href="#DataFrame通过二维数组创建" class="headerlink" title="DataFrame通过二维数组创建"></a>DataFrame通过二维数组创建</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df_1 = pd.DataFrame([[&apos;Wayne&apos;, &apos;Tony&apos;, &apos;Moon&apos;],[90, 80, 70]])</span><br><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">       0     1     2</span><br><span class="line">0  Wayne  Tony  Moon</span><br><span class="line">1     90    80    70</span><br><span class="line">&gt;&gt;&gt; df_1 = pd.DataFrame([[&apos;Wayne&apos;, &apos;Tony&apos;, &apos;Moon&apos;],[90, 80, 70]], index=[&apos;hello&apos;, &apos;world&apos;])</span><br><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">           0     1     2</span><br><span class="line">hello  Wayne  Tony  Moon</span><br><span class="line">world     90    80    70</span><br><span class="line">&gt;&gt;&gt; df_1 = pd.DataFrame([[&apos;Wayne&apos;, &apos;Tony&apos;, &apos;Moon&apos;],[90, 80, 70]], index=[&apos;hello&apos;, &apos;world&apos;], columns=[&apos;a&apos;,&apos;b&apos;,&apos;c&apos;])</span><br><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">           a     b     c</span><br><span class="line">hello  Wayne  Tony  Moon</span><br><span class="line">world     90    80    70</span><br></pre></td></tr></table></figure>
<h3 id="DataFrame获取数据"><a href="#DataFrame获取数据" class="headerlink" title="DataFrame获取数据"></a>DataFrame获取数据</h3><h4 id="查看index-columns和values"><a href="#查看index-columns和values" class="headerlink" title="查看index, columns和values"></a>查看index, columns和values</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df_1.index</span><br><span class="line">Index([&apos;hello&apos;, &apos;world&apos;], dtype=&apos;object&apos;)</span><br><span class="line">&gt;&gt;&gt; df_1.columns</span><br><span class="line">Index([&apos;a&apos;, &apos;b&apos;, &apos;c&apos;], dtype=&apos;object&apos;)</span><br><span class="line">&gt;&gt;&gt; df_1.values</span><br><span class="line">array([[&apos;Wayne&apos;, &apos;Tony&apos;, &apos;Moon&apos;],</span><br><span class="line">       [90, 80, 70]], dtype=object)</span><br></pre></td></tr></table></figure>
<h4 id="查看前几行和后几行"><a href="#查看前几行和后几行" class="headerlink" title="查看前几行和后几行"></a>查看前几行和后几行</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df2.head()</span><br><span class="line">  animal  age  visits priority</span><br><span class="line">a    cat  2.5       1      yes</span><br><span class="line">b    cat  3.0       3      yes</span><br><span class="line">c  snake  0.5       2       no</span><br><span class="line">d    dog  NaN       3      yes</span><br><span class="line">e    dog  5.0       2       no</span><br><span class="line">&gt;&gt;&gt; df2.tail()</span><br><span class="line">  animal  age  visits priority</span><br><span class="line">f    cat  2.0       3       no</span><br><span class="line">g  snake  4.5       1       no</span><br><span class="line">h    cat  NaN       1      yes</span><br><span class="line">i    dog  7.0       2       no</span><br><span class="line">j    dog  3.0       1       no</span><br></pre></td></tr></table></figure>
<h4 id="通过标签查询单列"><a href="#通过标签查询单列" class="headerlink" title="通过标签查询单列"></a>通过标签查询单列</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df1</span><br><span class="line">                                   A         B         C         D</span><br><span class="line">2019-05-07 11:19:46.800556  0.730185 -0.921699 -1.378680 -1.406925</span><br><span class="line">2019-05-08 11:19:46.800556  1.614754  0.070787  0.590759 -1.994313</span><br><span class="line">2019-05-09 11:19:46.800556  0.008300  0.209397  0.503240  0.435140</span><br><span class="line">2019-05-10 11:19:46.800556  0.239848  0.154181 -1.064210  0.588947</span><br><span class="line">2019-05-11 11:19:46.800556  1.300968  0.874263 -0.566293 -0.148778</span><br><span class="line">2019-05-12 11:19:46.800556  0.944818 -1.049111 -1.394035  0.778474</span><br><span class="line">&gt;&gt;&gt; df1[&apos;A&apos;]</span><br><span class="line">2019-05-07 11:19:46.800556    0.730185</span><br><span class="line">2019-05-08 11:19:46.800556    1.614754</span><br><span class="line">2019-05-09 11:19:46.800556    0.008300</span><br><span class="line">2019-05-10 11:19:46.800556    0.239848</span><br><span class="line">2019-05-11 11:19:46.800556    1.300968</span><br><span class="line">2019-05-12 11:19:46.800556    0.944818</span><br><span class="line">Freq: D, Name: A, dtype: float64</span><br></pre></td></tr></table></figure>
<h4 id="通过标签查询多列"><a href="#通过标签查询多列" class="headerlink" title="通过标签查询多列"></a>通过标签查询多列</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df1[[&apos;A&apos;,&apos;B&apos;]]</span><br><span class="line">                                   A         B</span><br><span class="line">2019-05-07 11:19:46.800556  0.730185 -0.921699</span><br><span class="line">2019-05-08 11:19:46.800556  1.614754  0.070787</span><br><span class="line">2019-05-09 11:19:46.800556  0.008300  0.209397</span><br><span class="line">2019-05-10 11:19:46.800556  0.239848  0.154181</span><br><span class="line">2019-05-11 11:19:46.800556  1.300968  0.874263</span><br><span class="line">2019-05-12 11:19:46.800556  0.944818 -1.049111</span><br></pre></td></tr></table></figure>
<h4 id="通过位置查询"><a href="#通过位置查询" class="headerlink" title="通过位置查询"></a>通过位置查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df1.iloc[1:3]</span><br><span class="line">                                   A         B         C         D</span><br><span class="line">2019-05-08 11:19:46.800556  1.614754  0.070787  0.590759 -1.994313</span><br><span class="line">2019-05-09 11:19:46.800556  0.008300  0.209397  0.503240  0.435140</span><br></pre></td></tr></table></figure>
<h4 id="查看DataFrame的统计数据"><a href="#查看DataFrame的统计数据" class="headerlink" title="查看DataFrame的统计数据"></a>查看DataFrame的统计数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df1.describe()</span><br><span class="line">              A         B         C         D</span><br><span class="line">count  6.000000  6.000000  6.000000  6.000000</span><br><span class="line">mean   0.806479 -0.110364 -0.551537 -0.291242</span><br><span class="line">std    0.613343  0.736756  0.902708  1.149970</span><br><span class="line">min    0.008300 -1.049111 -1.394035 -1.994313</span><br><span class="line">25%    0.362432 -0.673578 -1.300062 -1.092388</span><br><span class="line">50%    0.837501  0.112484 -0.815252  0.143181</span><br><span class="line">75%    1.211931  0.195593  0.235856  0.550495</span><br><span class="line">max    1.614754  0.874263  0.590759  0.778474</span><br></pre></td></tr></table></figure>
<h3 id="DataFrame基本操作"><a href="#DataFrame基本操作" class="headerlink" title="DataFrame基本操作"></a>DataFrame基本操作</h3><h4 id="DataFrame转置"><a href="#DataFrame转置" class="headerlink" title="DataFrame转置"></a>DataFrame转置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df1</span><br><span class="line">                                   A         B         C         D</span><br><span class="line">2019-05-07 11:19:46.800556  0.730185 -0.921699 -1.378680 -1.406925</span><br><span class="line">2019-05-08 11:19:46.800556  1.614754  0.070787  0.590759 -1.994313</span><br><span class="line">2019-05-09 11:19:46.800556  0.008300  0.209397  0.503240  0.435140</span><br><span class="line">2019-05-10 11:19:46.800556  0.239848  0.154181 -1.064210  0.588947</span><br><span class="line">2019-05-11 11:19:46.800556  1.300968  0.874263 -0.566293 -0.148778</span><br><span class="line">2019-05-12 11:19:46.800556  0.944818 -1.049111 -1.394035  0.778474</span><br><span class="line">&gt;&gt;&gt; df1.T</span><br><span class="line">   2019-05-07 11:19:46.800556  2019-05-08 11:19:46.800556  ...  2019-05-11 11:19:46.800556  2019-05-12 11:19:46.800556</span><br><span class="line">A                    0.730185                    1.614754  ...                    1.300968                    0.944818</span><br><span class="line">B                   -0.921699                    0.070787  ...                    0.874263                   -1.049111</span><br><span class="line">C                   -1.378680                    0.590759  ...                   -0.566293                   -1.394035</span><br><span class="line">D                   -1.406925                   -1.994313  ...                   -0.148778                    0.778474</span><br><span class="line"></span><br><span class="line">[4 rows x 6 columns]</span><br></pre></td></tr></table></figure>
<h4 id="DataFrame按列排序"><a href="#DataFrame按列排序" class="headerlink" title="DataFrame按列排序"></a>DataFrame按列排序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df1</span><br><span class="line">                                   A         B         C         D</span><br><span class="line">2019-05-07 11:19:46.800556  0.730185 -0.921699 -1.378680 -1.406925</span><br><span class="line">2019-05-08 11:19:46.800556  1.614754  0.070787  0.590759 -1.994313</span><br><span class="line">2019-05-09 11:19:46.800556  0.008300  0.209397  0.503240  0.435140</span><br><span class="line">2019-05-10 11:19:46.800556  0.239848  0.154181 -1.064210  0.588947</span><br><span class="line">2019-05-11 11:19:46.800556  1.300968  0.874263 -0.566293 -0.148778</span><br><span class="line">2019-05-12 11:19:46.800556  0.944818 -1.049111 -1.394035  0.778474</span><br><span class="line">&gt;&gt;&gt; df1.sort_values(by=&apos;A&apos;)</span><br><span class="line">                                   A         B         C         D</span><br><span class="line">2019-05-09 11:19:46.800556  0.008300  0.209397  0.503240  0.435140</span><br><span class="line">2019-05-10 11:19:46.800556  0.239848  0.154181 -1.064210  0.588947</span><br><span class="line">2019-05-07 11:19:46.800556  0.730185 -0.921699 -1.378680 -1.406925</span><br><span class="line">2019-05-12 11:19:46.800556  0.944818 -1.049111 -1.394035  0.778474</span><br><span class="line">2019-05-11 11:19:46.800556  1.300968  0.874263 -0.566293 -0.148778</span><br><span class="line">2019-05-08 11:19:46.800556  1.614754  0.070787  0.590759 -1.994313</span><br></pre></td></tr></table></figure>
<h4 id="DataFrame切片"><a href="#DataFrame切片" class="headerlink" title="DataFrame切片"></a>DataFrame切片</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df1</span><br><span class="line">                                   A         B         C         D</span><br><span class="line">2019-05-07 11:19:46.800556  0.730185 -0.921699 -1.378680 -1.406925</span><br><span class="line">2019-05-08 11:19:46.800556  1.614754  0.070787  0.590759 -1.994313</span><br><span class="line">2019-05-09 11:19:46.800556  0.008300  0.209397  0.503240  0.435140</span><br><span class="line">2019-05-10 11:19:46.800556  0.239848  0.154181 -1.064210  0.588947</span><br><span class="line">2019-05-11 11:19:46.800556  1.300968  0.874263 -0.566293 -0.148778</span><br><span class="line">2019-05-12 11:19:46.800556  0.944818 -1.049111 -1.394035  0.778474</span><br><span class="line">&gt;&gt;&gt; df1[1:3]</span><br><span class="line">                                   A         B         C         D</span><br><span class="line">2019-05-08 11:19:46.800556  1.614754  0.070787  0.590759 -1.994313</span><br><span class="line">2019-05-09 11:19:46.800556  0.008300  0.209397  0.503240  0.435140</span><br></pre></td></tr></table></figure>
<h4 id="Dataframe副本copy"><a href="#Dataframe副本copy" class="headerlink" title="Dataframe副本copy"></a>Dataframe副本copy</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df3 = df2.copy()</span><br><span class="line">&gt;&gt;&gt; df3</span><br><span class="line">  animal  age  visits priority</span><br><span class="line">a    cat  2.5       1      yes</span><br><span class="line">b    cat  3.0       3      yes</span><br><span class="line">c  snake  0.5       2       no</span><br><span class="line">d    dog  NaN       3      yes</span><br><span class="line">e    dog  5.0       2       no</span><br><span class="line">f    cat  2.0       3       no</span><br><span class="line">g  snake  4.5       1       no</span><br><span class="line">h    cat  NaN       1      yes</span><br><span class="line">i    dog  7.0       2       no</span><br><span class="line">j    dog  3.0       1       no</span><br></pre></td></tr></table></figure>
<h4 id="列添加"><a href="#列添加" class="headerlink" title="列添加"></a>列添加</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df_1[&apos;location&apos;] = [&apos;SH&apos;, &apos;BJ&apos;, &apos;GZ&apos;]</span><br><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">      成绩     姓名   爱好 location</span><br><span class="line">xx    90   Tony   篮球       SH</span><br><span class="line">oo    90  Wayne   排球       BJ</span><br><span class="line">xxoo  99   Moon  乒乓球       GZ</span><br></pre></td></tr></table></figure>
<h4 id="列删除"><a href="#列删除" class="headerlink" title="列删除"></a>列删除</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">      成绩     姓名   爱好 location</span><br><span class="line">xx    90   Tony   篮球       SH</span><br><span class="line">oo    90  Wayne   排球       BJ</span><br><span class="line">xxoo  99   Moon  乒乓球       GZ</span><br><span class="line">&gt;&gt;&gt; df_1.pop(&apos;爱好&apos;)</span><br><span class="line">xx       篮球</span><br><span class="line">oo       排球</span><br><span class="line">xxoo    乒乓球</span><br><span class="line">Name: 爱好, dtype: object</span><br><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">      成绩     姓名 location</span><br><span class="line">xx    90   Tony       SH</span><br><span class="line">oo    90  Wayne       BJ</span><br><span class="line">xxoo  99   Moon       GZ</span><br></pre></td></tr></table></figure>
<h4 id="列修改"><a href="#列修改" class="headerlink" title="列修改"></a>列修改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df_1[&apos;location&apos;] = [&apos;SJZ&apos;,&apos;TY&apos;,&apos;ZZ&apos;]</span><br><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">      成绩     姓名 location</span><br><span class="line">xx    90   Tony      SJZ</span><br><span class="line">oo    90  Wayne       TY</span><br><span class="line">xxoo  99   Moon       ZZ</span><br></pre></td></tr></table></figure>
<h4 id="行的获取"><a href="#行的获取" class="headerlink" title="行的获取"></a>行的获取</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">      成绩     姓名 location</span><br><span class="line">xx    90   Tony      SJZ</span><br><span class="line">oo    90  Wayne       TY</span><br><span class="line">xxoo  99   Moon       ZZ</span><br><span class="line">&gt;&gt;&gt; df_1.ix[&apos;xx&apos;]</span><br><span class="line">成绩            90</span><br><span class="line">姓名          Tony</span><br><span class="line">location     SJZ</span><br><span class="line">Name: xx, dtype: object</span><br><span class="line">&gt;&gt;&gt; df_1.loc[&apos;xx&apos;]</span><br><span class="line">成绩            90</span><br><span class="line">姓名          Tony</span><br><span class="line">location     SJZ</span><br><span class="line">Name: xx, dtype: object</span><br></pre></td></tr></table></figure>
<h4 id="行增加"><a href="#行增加" class="headerlink" title="行增加"></a>行增加</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df_1.ix[&apos;ooxx&apos;] = [88, &apos;Bessie&apos;, &apos;QHD&apos;]</span><br><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">      成绩      姓名 location</span><br><span class="line">xx    90    Tony      SJZ</span><br><span class="line">oo    90   Wayne       TY</span><br><span class="line">xxoo  99    Moon       ZZ</span><br><span class="line">ooxx  88  Bessie      QHD</span><br></pre></td></tr></table></figure>
<h4 id="行修改"><a href="#行修改" class="headerlink" title="行修改"></a>行修改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df_1.ix[&apos;ooxx&apos;] = [88, &apos;Bessie&apos;, &apos;SH&apos;] </span><br><span class="line">&gt;&gt;&gt; df_1</span><br><span class="line">      成绩      姓名 location</span><br><span class="line">xx    90    Tony      SJZ</span><br><span class="line">oo    90   Wayne       TY</span><br><span class="line">xxoo  99    Moon       ZZ</span><br><span class="line">ooxx  88  Bessie       SH</span><br></pre></td></tr></table></figure>
<h4 id="行删除"><a href="#行删除" class="headerlink" title="行删除"></a>行删除</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df_1.drop(&apos;xxoo&apos;)  </span><br><span class="line">      成绩      姓名 location</span><br><span class="line">xx    90    Tony      SJZ</span><br><span class="line">oo    90   Wayne       TY</span><br><span class="line">ooxx  88  Bessie       SH</span><br></pre></td></tr></table></figure>
<h3 id="索引对象"><a href="#索引对象" class="headerlink" title="索引对象"></a>索引对象</h3><h2 id="pandas基本功能"><a href="#pandas基本功能" class="headerlink" title="pandas基本功能"></a>pandas基本功能</h2><h3 id="数据文件读取和文本数据读取"><a href="#数据文件读取和文本数据读取" class="headerlink" title="数据文件读取和文本数据读取"></a>数据文件读取和文本数据读取</h3><p>通过pandas.read_xx相关函数可以读取文件中的数据, 并形成DataFrame, 常用的方法为read_csv, 主要读取文本类型的数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">cat data.csv</span><br><span class="line">wayne,tony,bessie</span><br><span class="line">19,20,21</span><br><span class="line">1,1,0</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; pd.read_csv(&apos;data.txt&apos;, sep=&apos;;&apos;, header=None)</span><br><span class="line">       0     1       2</span><br><span class="line">0  wayne  tony  bessie</span><br><span class="line">1     19    20      21</span><br><span class="line">2      1     1       0</span><br><span class="line"></span><br><span class="line">cat data.csv </span><br><span class="line">name,age,sex</span><br><span class="line">wayne,19,1</span><br><span class="line">tony,20,1</span><br><span class="line">bessie,21,0</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; pd.read_csv(&apos;data.csv&apos;)</span><br><span class="line">     name  age  sex</span><br><span class="line">0   wayne   19    1</span><br><span class="line">1    tony   20    1</span><br><span class="line">2  bessie   21    0</span><br></pre></td></tr></table></figure>
<h3 id="索引-选取和数据过滤"><a href="#索引-选取和数据过滤" class="headerlink" title="索引, 选取和数据过滤"></a>索引, 选取和数据过滤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df01 = pd.read_csv(&apos;data.csv&apos;)</span><br><span class="line">&gt;&gt;&gt; df01[df01.columns[1:]]</span><br><span class="line">   age  source</span><br><span class="line">0   18    98.5</span><br><span class="line">1   21    78.2</span><br><span class="line">2   24    98.5</span><br><span class="line">3   20    89.2</span><br></pre></td></tr></table></figure>
<h4 id="缺省值NaN的处理方法"><a href="#缺省值NaN的处理方法" class="headerlink" title="缺省值NaN的处理方法"></a>缺省值NaN的处理方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">cat data1.txt</span><br><span class="line">name,age,salary,gender</span><br><span class="line">Tom,NaN,456.7,M </span><br><span class="line">Merry,34,345.6,NaN</span><br><span class="line">Gerry,NaN,NaN,NaN</span><br><span class="line">John,23,NaN,M</span><br><span class="line">Joe ,18,385.6,F</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; df2 = pd.read_csv(&apos;data1.csv&apos;, sep=&apos;,&apos;)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; df2.isnull()</span><br><span class="line">    name    age  salary  gender</span><br><span class="line">0  False   True   False   False</span><br><span class="line">1  False  False   False    True</span><br><span class="line">2  False   True    True    True</span><br><span class="line">3  False  False    True   False</span><br><span class="line">4  False  False   False   False</span><br><span class="line">&gt;&gt;&gt; df2.notnull()</span><br><span class="line">   name    age  salary  gender</span><br><span class="line">0  True  False    True    True</span><br><span class="line">1  True   True    True   False</span><br><span class="line">2  True  False   False   False</span><br><span class="line">3  True   True   False    True</span><br><span class="line">4  True   True    True    True</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df01 = pd.DataFrame(np.random.randint(1,9,size=(4,4)))</span><br><span class="line">&gt;&gt;&gt; df01</span><br><span class="line">   0  1  2  3</span><br><span class="line">0  1  5  8  4</span><br><span class="line">1  3  3  6  8</span><br><span class="line">2  5  7  2  4</span><br><span class="line">3  5  5  6  4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># &gt;&gt;&gt; df01 = pd.DataFrame(np.random.randint(1,9,size=(4,4)), index=[&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;])</span><br><span class="line"># &gt;&gt;&gt; df01</span><br><span class="line">#    0  1  2  3</span><br><span class="line"># a  4  2  6  7</span><br><span class="line"># b  3  7  5  6</span><br><span class="line"># c  8  5  3  2</span><br><span class="line"># d  6  7  4  4</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; df01.ix[1:3,1] = np.NaN  # 将第一行到第三行的第一列修改为NaN</span><br><span class="line">&gt;&gt;&gt; df01</span><br><span class="line">   0    1  2  3</span><br><span class="line">0  3  7.0  6  3</span><br><span class="line">1  2  NaN  1  5</span><br><span class="line">2  3  NaN  1  4</span><br><span class="line">3  8  NaN  8  2</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; df01.dropna()  # 将NaN都删除掉, 默认只要包含NaN就删除掉</span><br><span class="line">   0    1  2  3</span><br><span class="line">0  3  7.0  6  3</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; df01.dropna(how=&apos;all&apos;)</span><br><span class="line">   0    1  2  3</span><br><span class="line">0  3  7.0  6  3</span><br><span class="line">1  2  NaN  1  5</span><br><span class="line">2  3  NaN  1  4</span><br><span class="line">3  8  NaN  8  2</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; df01</span><br><span class="line">   0    1  2  3</span><br><span class="line">0  3  7.0  6  3</span><br><span class="line">1  2  NaN  1  5</span><br><span class="line">2  3  NaN  1  4</span><br><span class="line">3  8  NaN  8  2</span><br><span class="line">&gt;&gt;&gt; df01.dropna(axis=1)</span><br><span class="line">   0  2  3</span><br><span class="line">0  3  6  3</span><br><span class="line">1  2  1  5</span><br><span class="line">2  3  1  4</span><br><span class="line">3  8  8  2</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from pandas import DataFrame</span><br><span class="line">&gt;&gt;&gt; df = DataFrame(np.random.randn(7,3))</span><br><span class="line">&gt;&gt;&gt; df.ix[:4,1] = np.nan  # 第0行到第4行的第1列全都置为NaN</span><br><span class="line">&gt;&gt;&gt; df.ix[:2,2] = np.nan  # 第0行到第2行的第2列全都置为NaN</span><br><span class="line">&gt;&gt;&gt; df</span><br><span class="line">          0         1         2</span><br><span class="line">0 -0.041760       NaN       NaN</span><br><span class="line">1 -0.005338       NaN       NaN</span><br><span class="line">2 -0.728414       NaN       NaN</span><br><span class="line">3 -1.836972       NaN  1.114158</span><br><span class="line">4  1.737801       NaN -0.103160</span><br><span class="line">5 -0.968829 -0.573951  0.503281</span><br><span class="line">6 -0.565628 -0.889926 -1.307314</span><br><span class="line">&gt;&gt;&gt; df.fillna(0)  # 将所有的NaN填充为0</span><br><span class="line">          0         1         2</span><br><span class="line">0 -0.041760  0.000000  0.000000</span><br><span class="line">1 -0.005338  0.000000  0.000000</span><br><span class="line">2 -0.728414  0.000000  0.000000</span><br><span class="line">3 -1.836972  0.000000  1.114158</span><br><span class="line">4  1.737801  0.000000 -0.103160</span><br><span class="line">5 -0.968829 -0.573951  0.503281</span><br><span class="line">6 -0.565628 -0.889926 -1.307314</span><br><span class="line">&gt;&gt;&gt; df.fillna(&#123;1:0.5, 2:-1, 3:1&#125;)  # 将第1列的NaN填充为0.5, 将第2列的NaN填充为-1, 将第3列的NaN填充为1</span><br><span class="line">          0         1         2</span><br><span class="line">0 -0.041760  0.500000 -1.000000</span><br><span class="line">1 -0.005338  0.500000 -1.000000</span><br><span class="line">2 -0.728414  0.500000 -1.000000</span><br><span class="line">3 -1.836972  0.500000  1.114158</span><br><span class="line">4  1.737801  0.500000 -0.103160</span><br><span class="line">5 -0.968829 -0.573951  0.503281</span><br><span class="line">6 -0.565628 -0.889926 -1.307314</span><br></pre></td></tr></table></figure>
<h4 id="常用的数学统计方法"><a href="#常用的数学统计方法" class="headerlink" title="常用的数学统计方法"></a>常用的数学统计方法</h4><div class="table-container">
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>count</td>
<td>计算非NA值的数量</td>
</tr>
<tr>
<td>describe</td>
<td>针对Series或各个DataFrame列计算总的统计值</td>
</tr>
<tr>
<td>min/max</td>
<td></td>
</tr>
<tr>
<td>argmin/argmax</td>
<td>计算能够获取到最小值和最大值的索引位置(整数)</td>
</tr>
<tr>
<td>idxmin/idxmax</td>
<td>算能够获取到最小值和最大值的索引值</td>
</tr>
<tr>
<td>quantile</td>
<td>计算样本的分位数(0或1)</td>
</tr>
<tr>
<td>sum</td>
<td>值的总和</td>
</tr>
<tr>
<td>mean</td>
<td>值的平均数</td>
</tr>
<tr>
<td>median</td>
<td>值的中位数</td>
</tr>
<tr>
<td>mad</td>
<td>根据平均值计算平均绝对距离差</td>
</tr>
<tr>
<td>var</td>
<td>样本值的方差</td>
</tr>
<tr>
<td>std</td>
<td>样本值的标准差</td>
</tr>
<tr>
<td>cumsum</td>
<td>样本值的累计和</td>
</tr>
<tr>
<td>cummin/cummax</td>
<td>样本的累计最小值和最大值</td>
</tr>
<tr>
<td>cumprod</td>
<td>样本值的累计积</td>
</tr>
<tr>
<td>pct_change</td>
<td>百分数的变化</td>
</tr>
</tbody>
</table>
</div>
<h4 id="相关系数与协方差"><a href="#相关系数与协方差" class="headerlink" title="相关系数与协方差"></a>相关系数与协方差</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; df = DataFrame(&#123;&apos;GDP&apos;:[12, 23, 34, 45, 56], &apos;air_temperature&apos;: [23, 25, 26, 27, 30], &apos;year&apos;:[&apos;2001&apos;,&apos;2002&apos;,&apos;2003&apos;,&apos;2004&apos;,&apos;2005&apos;]&#125;)</span><br><span class="line">&gt;&gt;&gt; df</span><br><span class="line">   GDP  air_temperature  year</span><br><span class="line">0   12               23  2001</span><br><span class="line">1   23               25  2002</span><br><span class="line">2   34               26  2003</span><br><span class="line">3   45               27  2004</span><br><span class="line">4   56               30  2005</span><br><span class="line">&gt;&gt;&gt; df.corr()</span><br><span class="line">                      GDP  air_temperature</span><br><span class="line">GDP              1.000000         0.977356</span><br><span class="line">air_temperature  0.977356         1.000000</span><br><span class="line">&gt;&gt;&gt; df.cov()</span><br><span class="line">                   GDP  air_temperature</span><br><span class="line">GDP              302.5             44.0</span><br><span class="line">air_temperature   44.0              6.7</span><br></pre></td></tr></table></figure>
<h4 id="唯一值-值计数以及成员资格"><a href="#唯一值-值计数以及成员资格" class="headerlink" title="唯一值, 值计数以及成员资格"></a>唯一值, 值计数以及成员资格</h4><ul>
<li>unique用于获取Series中的唯一值数组(去重后的数组)</li>
<li>value_counts用于计算一个Series中各值的出现的频率</li>
<li>isin用于判断矢量化集合中的成员资格, 可用于选取Series中或者DataFrame中列数据的子集</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from pandas import Series</span><br><span class="line">&gt;&gt;&gt; ser = Series([&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;b&apos;,&apos;c&apos;,&apos;a&apos;,&apos;d&apos;,&apos;e&apos;,&apos;b&apos;])</span><br><span class="line">&gt;&gt;&gt; ser.unique()</span><br><span class="line">array([&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;], dtype=object)</span><br><span class="line">&gt;&gt;&gt; ser.value_counts()</span><br><span class="line">b    3</span><br><span class="line">a    2</span><br><span class="line">c    2</span><br><span class="line">d    1</span><br><span class="line">e    1</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; ser.value_counts(ascending=False)  # 降序排列</span><br><span class="line">b    3</span><br><span class="line">a    2</span><br><span class="line">c    2</span><br><span class="line">d    1</span><br><span class="line">e    1</span><br><span class="line">dtype: int64</span><br><span class="line">&gt;&gt;&gt; ser.value_counts(ascending=True)  # 升序排列</span><br><span class="line">e    1</span><br><span class="line">d    1</span><br><span class="line">c    2</span><br><span class="line">a    2</span><br><span class="line">b    3</span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line"># DataFrame去重</span><br><span class="line">&gt;&gt;&gt; df = DataFrame(&#123;&apos;order_id&apos;:[&apos;1001&apos;,&apos;1002&apos;,&apos;1003&apos;,&apos;1004&apos;,&apos;1005&apos;], &apos;member_id&apos;:[&apos;m01&apos;,&apos;m01&apos;,&apos;m02&apos;,&apos;m01&apos;,&apos;m02&apos;], &apos;order_amt&apos;:[345, 312.2, 123, 250.2, 235]&#125;)</span><br><span class="line">&gt;&gt;&gt; df</span><br><span class="line">  order_id member_id  order_amt</span><br><span class="line">0     1001       m01      345.0</span><br><span class="line">1     1002       m01      312.2</span><br><span class="line">2     1003       m02      123.0</span><br><span class="line">3     1004       m01      250.2</span><br><span class="line">4     1005       m02      235.0</span><br><span class="line">&gt;&gt;&gt; df[&apos;member_id&apos;].unique()</span><br><span class="line">array([&apos;m01&apos;, &apos;m02&apos;], dtype=object)</span><br><span class="line"></span><br><span class="line"># 成员资格判断</span><br><span class="line">&gt;&gt;&gt; ser</span><br><span class="line">0    a</span><br><span class="line">1    b</span><br><span class="line">2    c</span><br><span class="line">3    b</span><br><span class="line">4    c</span><br><span class="line">5    a</span><br><span class="line">6    d</span><br><span class="line">7    e</span><br><span class="line">8    b</span><br><span class="line">dtype: object</span><br><span class="line">&gt;&gt;&gt; mask = ser.isin([&apos;b&apos;,&apos;c&apos;])</span><br><span class="line">&gt;&gt;&gt; mask</span><br><span class="line">0    False</span><br><span class="line">1     True</span><br><span class="line">2     True</span><br><span class="line">3     True</span><br><span class="line">4     True</span><br><span class="line">5    False</span><br><span class="line">6    False</span><br><span class="line">7    False</span><br><span class="line">8     True</span><br><span class="line">dtype: bool</span><br><span class="line">&gt;&gt;&gt; ser[mask]</span><br><span class="line">1    b</span><br><span class="line">2    c</span><br><span class="line">3    b</span><br><span class="line">4    c</span><br><span class="line">8    b</span><br><span class="line">dtype: object</span><br></pre></td></tr></table></figure>
<h3 id="算法运算和数据对齐"><a href="#算法运算和数据对齐" class="headerlink" title="算法运算和数据对齐"></a>算法运算和数据对齐</h3><h3 id="函数的应用和映射"><a href="#函数的应用和映射" class="headerlink" title="函数的应用和映射"></a>函数的应用和映射</h3><h3 id="层次索引"><a href="#层次索引" class="headerlink" title="层次索引"></a>层次索引</h3><ul>
<li>在某一个方向上拥有多个(两个或两个以上)索引级别</li>
<li>通过层次化索引, pandas能够以较低维度的形式处理高维度的数据</li>
<li>通过层次化索引, 可以按照层次统计数据</li>
<li>层次所以包括Series层次索引和DataFrame层次索引</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; data = Series([988.44, 95895, 3959, 32554, 1235], index=[[&apos;2001&apos;,&apos;2001&apos;,&apos;2001&apos;,&apos;2002&apos;,&apos;2002&apos;],[&apos;苹果&apos;,&apos;香蕉&apos;,&apos;西瓜&apos;,&apos;苹果&apos;,&apos;西瓜&apos;]])</span><br><span class="line">&gt;&gt;&gt; data</span><br><span class="line">2001  苹果      988.44</span><br><span class="line">      香蕉    95895.00</span><br><span class="line">      西瓜     3959.00</span><br><span class="line">2002  苹果    32554.00</span><br><span class="line">      西瓜     1235.00</span><br><span class="line">dtype: float64</span><br><span class="line">&gt;&gt;&gt; data01 = data.swaplevel().sort_index()  # 交换分层索引</span><br><span class="line">&gt;&gt;&gt; data01</span><br><span class="line">苹果  2001      988.44</span><br><span class="line">    2002    32554.00</span><br><span class="line">西瓜  2001     3959.00</span><br><span class="line">    2002     1235.00</span><br><span class="line">香蕉  2001    95895.00</span><br><span class="line">dtype: float64</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; df = DataFrame(&#123;&apos;year&apos;:[2001, 2001, 2002, 2002, 2003], &apos;fruit&apos;:[&apos;apple&apos;,&apos;banana&apos;,&apos;apple&apos;,&apos;banana&apos;,&apos;apple&apos;], &apos;production&apos;:[2345, 3124, 5668, 2532, 2135], &apos;profits&apos;:[233.44, 4452.2, 1225.2, 7845.2, 2352.2]&#125;)</span><br><span class="line">&gt;&gt;&gt; df</span><br><span class="line">   year   fruit  production  profits</span><br><span class="line">0  2001   apple        2345   233.44</span><br><span class="line">1  2001  banana        3124  4452.20</span><br><span class="line">2  2002   apple        5668  1225.20</span><br><span class="line">3  2002  banana        2532  7845.20</span><br><span class="line">4  2003   apple        2135  2352.20</span><br><span class="line">&gt;&gt;&gt; df = df.set_index([&apos;year&apos;,&apos;fruit&apos;])  # 设置层次化索引</span><br><span class="line">             production  profits</span><br><span class="line">year fruit                      </span><br><span class="line">2001 apple         2345   233.44</span><br><span class="line">     banana        3124  4452.20</span><br><span class="line">2002 apple         5668  1225.20</span><br><span class="line">     banana        2532  7845.20</span><br><span class="line">2003 apple         2135  2352.20</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; df.ix[2002,&apos;apple&apos;]  # 根据层次化索引进行取值</span><br><span class="line">production    5668.0</span><br><span class="line">profits       1225.2</span><br><span class="line">Name: (2002, apple), dtype: float64</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; df.sum(level=&apos;year&apos;)  # 按照层次索引统计数据</span><br><span class="line">      production  profits</span><br><span class="line">year                     </span><br><span class="line">2001        5469  4685.64</span><br><span class="line">2002        8200  9070.40</span><br><span class="line">2003        2135  2352.20</span><br><span class="line">&gt;&gt;&gt; df.min(level=&quot;fruit&quot;)</span><br><span class="line">        production  profits</span><br><span class="line">fruit                      </span><br><span class="line">apple         2135   233.44</span><br><span class="line">banana        2532  4452.20</span><br><span class="line">&gt;&gt;&gt; df.min(level=[&apos;year&apos;,&apos;fruit&apos;])</span><br><span class="line">             production  profits</span><br><span class="line">year fruit                      </span><br><span class="line">2001 apple         2345   233.44</span><br><span class="line">     banana        3124  4452.20</span><br><span class="line">2002 apple         5668  1225.20</span><br><span class="line">     banana        2532  7845.20</span><br><span class="line">2003 apple         2135  2352.20</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/AvalancheM/article/details/81293149" target="_blank" rel="noopener">参考文档</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">John Doe</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">26</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
